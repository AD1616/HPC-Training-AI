[{"text": "all right uh let's get started so uh", "start": 0.56, "duration": 6.199}, {"text": "what I'm going to talk today is about", "start": 4.96, "duration": 6.88}, {"text": "code migration to uh expands uh so a lot", "start": 6.759, "duration": 9.28}, {"text": "of uh a lot of people uh when they come", "start": 11.84, "duration": 8.519}, {"text": "on to the HPC systems uh have trouble", "start": 16.039, "duration": 7.0}, {"text": "either in uh knowing where the codes are", "start": 20.359, "duration": 5.08}, {"text": "or you know how to compile their codes", "start": 23.039, "duration": 5.4}, {"text": "and how to get started on the machine so", "start": 25.439, "duration": 4.801}, {"text": "hopefully with this presentation can", "start": 28.439, "duration": 3.521}, {"text": "give you a overview of all the different", "start": 30.24, "duration": 4.96}, {"text": "things you can do uh to get your code", "start": 31.96, "duration": 5.68}, {"text": "going on the or your workflow going on", "start": 35.2, "duration": 3.44}, {"text": "the", "start": 37.64, "duration": 6.439}, {"text": "system uh so let me go to the", "start": 38.64, "duration": 11.04}, {"text": "outline oops okay so uh loely this is", "start": 44.079, "duration": 8.081}, {"text": "where I'm I'm going to go basically", "start": 49.68, "duration": 4.8}, {"text": "first thing is uh look at how you can", "start": 52.16, "duration": 3.96}, {"text": "use applications that are already", "start": 54.48, "duration": 3.559}, {"text": "available on expanse and you've seen a", "start": 56.12, "duration": 4.399}, {"text": "little bit of this uh from the uh", "start": 58.039, "duration": 4.881}, {"text": "various talks from Mary and from Nicole", "start": 60.519, "duration": 5.481}, {"text": "but I'll uh kind of uh dive in a little", "start": 62.92, "duration": 6.16}, {"text": "bit uh on the modules and the containers", "start": 66.0, "duration": 4.479}, {"text": "uh that are", "start": 69.08, "duration": 4.24}, {"text": "available uh then uh I specifically", "start": 70.479, "duration": 5.68}, {"text": "called out the python and R uh based", "start": 73.32, "duration": 4.96}, {"text": "applications because uh this is", "start": 76.159, "duration": 4.201}, {"text": "typically where we see lots of issues", "start": 78.28, "duration": 5.68}, {"text": "where people come in with uh workflows", "start": 80.36, "duration": 6.0}, {"text": "that need a lot of python R art packages", "start": 83.96, "duration": 5.119}, {"text": "and it's not always easy to get them", "start": 86.36, "duration": 5.36}, {"text": "installed in in our environment or in an", "start": 89.079, "duration": 5.32}, {"text": "HPC environment so there are lots of", "start": 91.72, "duration": 5.28}, {"text": "options and uh with both Python and R", "start": 94.399, "duration": 5.521}, {"text": "you can go we look at what we have", "start": 97.0, "duration": 5.119}, {"text": "already available and also try to", "start": 99.92, "duration": 5.32}, {"text": "install using your own miniconda", "start": 102.119, "duration": 6.121}, {"text": "instance uh and also use a singularity", "start": 105.24, "duration": 4.239}, {"text": "approach so there's lots of ways of", "start": 108.24, "duration": 4.8}, {"text": "doing it and uh I'll uh kind of touch on", "start": 109.479, "duration": 6.161}, {"text": "every uh option that's", "start": 113.04, "duration": 4.439}, {"text": "available", "start": 115.64, "duration": 7.399}, {"text": "uh then uh the the the next thing is uh", "start": 117.479, "duration": 7.161}, {"text": "looking at how you build applications", "start": 123.039, "duration": 4.76}, {"text": "from source code and uh again here there", "start": 124.64, "duration": 5.599}, {"text": "are some interesting uh things when you", "start": 127.799, "duration": 5.881}, {"text": "move to an HPC machine uh the libraries", "start": 130.239, "duration": 5.161}, {"text": "are usually not in the standard", "start": 133.68, "duration": 3.96}, {"text": "locations uh because we have our own", "start": 135.4, "duration": 4.119}, {"text": "install tree that's separate from our", "start": 137.64, "duration": 4.0}, {"text": "standard Linux location for", "start": 139.519, "duration": 5.8}, {"text": "example uh and uh often you'll see build", "start": 141.64, "duration": 5.56}, {"text": "instructions will just say oh yeah do a", "start": 145.319, "duration": 3.721}, {"text": "yum install or an app get install which", "start": 147.2, "duration": 4.28}, {"text": "you can't do on an HPC system because", "start": 149.04, "duration": 4.199}, {"text": "you don't have permissions so I'm going", "start": 151.48, "duration": 5.119}, {"text": "to show you couple of examples of how", "start": 153.239, "duration": 6.601}, {"text": "you can uh use what's already installed", "start": 156.599, "duration": 4.881}, {"text": "uh to build your source", "start": 159.84, "duration": 4.16}, {"text": "code and the last thing I'm going to", "start": 161.48, "duration": 5.08}, {"text": "touch on is the user built containers", "start": 164.0, "duration": 4.92}, {"text": "I'm not going to go too much in depth", "start": 166.56, "duration": 4.92}, {"text": "there because uh Marty has a talk I", "start": 168.92, "duration": 5.88}, {"text": "think on uh later uh in the week that", "start": 171.48, "duration": 5.28}, {"text": "we'll talk about Singularity and he", "start": 174.8, "duration": 4.0}, {"text": "he'll go into a lot of detail there so", "start": 176.76, "duration": 4.479}, {"text": "but I'll just give one quick example of", "start": 178.8, "duration": 4.88}, {"text": "how that might work so that's briefly", "start": 181.239, "duration": 8.041}, {"text": "the outline of of the talk uh so um", "start": 183.68, "duration": 7.88}, {"text": "let's start off with uh basically", "start": 189.28, "duration": 4.599}, {"text": "applications that are already on", "start": 191.56, "duration": 5.599}, {"text": "expans so uh this is the first thing you", "start": 193.879, "duration": 5.521}, {"text": "should do is if you're looking to use an", "start": 197.159, "duration": 4.36}, {"text": "application make sure we don't already", "start": 199.4, "duration": 4.559}, {"text": "have it installed uh we've seen a few", "start": 201.519, "duration": 6.401}, {"text": "users who come in and uh try to install", "start": 203.959, "duration": 6.28}, {"text": "uh packages that are already there and", "start": 207.92, "duration": 3.879}, {"text": "you know spend a lot of time and then", "start": 210.239, "duration": 2.92}, {"text": "figure out that oh they could have used", "start": 211.799, "duration": 4.401}, {"text": "the system version so first thing to do", "start": 213.159, "duration": 6.321}, {"text": "is check to see uh what's there like", "start": 216.2, "duration": 5.44}, {"text": "we've installed and uh made available a", "start": 219.48, "duration": 4.44}, {"text": "huge Suite of libraries and applications", "start": 221.64, "duration": 4.44}, {"text": "is well over a couple of hundred", "start": 223.92, "duration": 4.239}, {"text": "applications and libraries on expense so", "start": 226.08, "duration": 4.439}, {"text": "you should definitely check that first", "start": 228.159, "duration": 4.28}, {"text": "this also includes like some commercial", "start": 230.519, "duration": 5.161}, {"text": "packages like qcam and abuts and goian", "start": 232.439, "duration": 5.561}, {"text": "and vasp and so on now some of these", "start": 235.68, "duration": 4.839}, {"text": "have license restrictions and uh you can", "start": 238.0, "duration": 4.76}, {"text": "check with us uh to see what the", "start": 240.519, "duration": 5.161}, {"text": "restrictions are but they are", "start": 242.76, "duration": 6.399}, {"text": "available and our primary approach is to", "start": 245.68, "duration": 5.04}, {"text": "make all these available using", "start": 249.159, "duration": 5.521}, {"text": "environment modules and uh as uh Nicole", "start": 250.72, "duration": 6.199}, {"text": "was mentioning you can use uh module", "start": 254.68, "duration": 4.079}, {"text": "spider to find the", "start": 256.919, "duration": 4.361}, {"text": "applications that are available that are", "start": 258.759, "duration": 5.481}, {"text": "already installed uh using", "start": 261.28, "duration": 6.56}, {"text": "modules uh and then uh in addition to", "start": 264.24, "duration": 6.6}, {"text": "all this we also have some applications", "start": 267.84, "duration": 5.079}, {"text": "uh like py torch and tensorflow and", "start": 270.84, "duration": 4.4}, {"text": "Alpha that are made available using", "start": 272.919, "duration": 5.0}, {"text": "containers and the reason we do this is", "start": 275.24, "duration": 5.44}, {"text": "because uh these packages typically have", "start": 277.919, "duration": 5.961}, {"text": "dependencies that don't uh install that", "start": 280.68, "duration": 5.799}, {"text": "easily into the standard environment so", "start": 283.88, "duration": 4.68}, {"text": "it's much easier to do it in a", "start": 286.479, "duration": 4.841}, {"text": "container uh so I'll uh I'll give you", "start": 288.56, "duration": 4.8}, {"text": "examples of", "start": 291.32, "duration": 7.52}, {"text": "that so uh the first thing uh uh uh is", "start": 293.36, "duration": 8.32}, {"text": "to see how you can use module spider so", "start": 298.84, "duration": 6.6}, {"text": "let me pop out of this and actually pick", "start": 301.68, "duration": 4.68}, {"text": "up", "start": 305.44, "duration": 4.4}, {"text": "my uh", "start": 306.36, "duration": 3.48}, {"text": "terminal so everyone can see my terminal", "start": 309.88, "duration": 4.56}, {"text": "okay", "start": 312.72, "duration": 6.08}, {"text": "right yes okay great uh", "start": 314.44, "duration": 7.08}, {"text": "so uh and I'm using a training account", "start": 318.8, "duration": 5.959}, {"text": "so there's nothing uh uh special about", "start": 321.52, "duration": 5.64}, {"text": "uh what I'm doing so like for example", "start": 324.759, "duration": 5.121}, {"text": "now I'm looking for Mt lab and I do", "start": 327.16, "duration": 5.56}, {"text": "module spider Matlab and it's going to", "start": 329.88, "duration": 4.48}, {"text": "tell you that there are two versions of", "start": 332.72, "duration": 5.16}, {"text": "Matlab available so now if you do module", "start": 334.36, "duration": 5.92}, {"text": "spider mlap", "start": 337.88, "duration": 5.72}, {"text": "2022a which is the newer version you'll", "start": 340.28, "duration": 6.28}, {"text": "see it says oh you have to load all", "start": 343.6, "duration": 4.76}, {"text": "these modules before you can load this", "start": 346.56, "duration": 7.16}, {"text": "module and uh you see it says CPU 054", "start": 348.36, "duration": 8.08}, {"text": "and I'll tell you why there is a CPU", "start": 353.72, "duration": 7.039}, {"text": "module uh but you can see the module uh", "start": 356.44, "duration": 6.319}, {"text": "information is given and it also tells", "start": 360.759, "duration": 6.201}, {"text": "you uh some documentation info uh and if", "start": 362.759, "duration": 8.401}, {"text": "you do a module show M", "start": 366.96, "duration": 7.239}, {"text": "laab uh it's going to tell you uh all", "start": 371.16, "duration": 6.24}, {"text": "the paths uh uh for where the module is", "start": 374.199, "duration": 6.241}, {"text": "located which is this piece here that's", "start": 377.4, "duration": 5.199}, {"text": "not so relevant but if you scroll down a", "start": 380.44, "duration": 4.879}, {"text": "little bit you can see the path of uh", "start": 382.599, "duration": 7.361}, {"text": "that's being set for uh for mat lab", "start": 385.319, "duration": 8.72}, {"text": "uh and for every package that's uh inst", "start": 389.96, "duration": 6.639}, {"text": "has a module we usually set the home", "start": 394.039, "duration": 5.321}, {"text": "location for that uh this is not so", "start": 396.599, "duration": 4.88}, {"text": "useful for say matlb but it might be", "start": 399.36, "duration": 5.119}, {"text": "very useful for a library like fftw", "start": 401.479, "duration": 5.201}, {"text": "where uh if you're compiling and I'm", "start": 404.479, "duration": 4.601}, {"text": "going to talk about this later uh you", "start": 406.68, "duration": 4.72}, {"text": "may need to know where exactly the", "start": 409.08, "duration": 3.839}, {"text": "library is located and there's a", "start": 411.4, "duration": 3.199}, {"text": "variable that is set for that so you", "start": 412.919, "duration": 4.201}, {"text": "will see see that in pretty much all", "start": 414.599, "duration": 4.761}, {"text": "your modules you can do this uh mod", "start": 417.12, "duration": 4.079}, {"text": "module show and it'll tell you all the", "start": 419.36, "duration": 3.64}, {"text": "paths that are being", "start": 421.199, "duration": 4.0}, {"text": "set so essentially that's what the", "start": 423.0, "duration": 4.56}, {"text": "module is doing it's changing your", "start": 425.199, "duration": 5.081}, {"text": "environment to uh include the paths and", "start": 427.56, "duration": 5.12}, {"text": "include the locations uh and the", "start": 430.28, "duration": 6.68}, {"text": "libraries locations into your uh uh", "start": 432.68, "duration": 5.799}, {"text": "default", "start": 436.96, "duration": 7.44}, {"text": "Parts uh so that is uh uh the module", "start": 438.479, "duration": 10.961}, {"text": "spider piece uh now let me uh go back", "start": 444.4, "duration": 8.359}, {"text": "back here and so I have snapshots just", "start": 449.44, "duration": 5.72}, {"text": "in case things didn't work so uh so", "start": 452.759, "duration": 4.601}, {"text": "we've gone through this so one thing is", "start": 455.16, "duration": 5.52}, {"text": "if you do module spider mat lab 2020b", "start": 457.36, "duration": 5.44}, {"text": "you'll see now it has got a CPU and a", "start": 460.68, "duration": 5.959}, {"text": "GPU version and uh this is where I want", "start": 462.8, "duration": 5.799}, {"text": "to tell you is that we have a separate", "start": 466.639, "duration": 5.12}, {"text": "stack for the CPU nodes and GPU nodes", "start": 468.599, "duration": 5.641}, {"text": "and the reason for this is uh the", "start": 471.759, "duration": 4.12}, {"text": "processor is actually different on the", "start": 474.24, "duration": 5.84}, {"text": "CPU nodes uh we have uh the AMD", "start": 475.879, "duration": 5.28}, {"text": "uh epic", "start": 480.08, "duration": 4.04}, {"text": "processor uh so it's the Rome processor", "start": 481.159, "duration": 5.801}, {"text": "uh and on the GPU nodes we have Intel", "start": 484.12, "duration": 6.12}, {"text": "processors so uh for matlb it might not", "start": 486.96, "duration": 4.639}, {"text": "make a difference because the same", "start": 490.24, "duration": 4.72}, {"text": "binaries are available but for uh codes", "start": 491.599, "duration": 5.04}, {"text": "that are compiled like say we have an", "start": 494.96, "duration": 4.799}, {"text": "fftw that's compiled you really need to", "start": 496.639, "duration": 6.081}, {"text": "be careful uh which version you're using", "start": 499.759, "duration": 5.201}, {"text": "so if you're plan to run on the GPU node", "start": 502.72, "duration": 4.36}, {"text": "you need to make sure that you first get", "start": 504.96, "duration": 6.239}, {"text": "on a GPU node and also uh load the", "start": 507.08, "duration": 6.12}, {"text": "modules that are corresponding to the", "start": 511.199, "duration": 6.441}, {"text": "GPU uh stack because uh something that's", "start": 513.2, "duration": 7.88}, {"text": "compiled for the AMD Rome processor is", "start": 517.64, "duration": 5.12}, {"text": "not going to work on the GPU node", "start": 521.08, "duration": 3.72}, {"text": "because it's a different processor and", "start": 522.76, "duration": 4.079}, {"text": "vice versa so if you compile on the GPU", "start": 524.8, "duration": 3.96}, {"text": "node and try to run that on the CPU node", "start": 526.839, "duration": 5.081}, {"text": "it's going to fail um and this often", "start": 528.76, "duration": 5.36}, {"text": "happens because people uh load", "start": 531.92, "duration": 5.2}, {"text": "everything on the uh login node and try", "start": 534.12, "duration": 5.36}, {"text": "to compile and it fails because uh the", "start": 537.12, "duration": 5.279}, {"text": "GPU part uh doesn't really work on the", "start": 539.48, "duration": 4.28}, {"text": "login", "start": 542.399, "duration": 3.761}, {"text": "mode so that's why we have those two", "start": 543.76, "duration": 5.44}, {"text": "different tracks", "start": 546.16, "duration": 6.56}, {"text": "uh now if you do a module spider on", "start": 549.2, "duration": 7.319}, {"text": "fftw uh like I'm doing here you will see", "start": 552.72, "duration": 5.799}, {"text": "all the combinations right so there is a", "start": 556.519, "duration": 4.641}, {"text": "CPU version there's a GPU version and", "start": 558.519, "duration": 4.32}, {"text": "then there's a bunch of versions which", "start": 561.16, "duration": 4.96}, {"text": "are dependent on the MPI that you're", "start": 562.839, "duration": 5.921}, {"text": "loading because fftw has an MPI", "start": 566.12, "duration": 4.279}, {"text": "component", "start": 568.76, "duration": 4.16}, {"text": "it also has a Serial version but a", "start": 570.399, "duration": 5.68}, {"text": "Serial threaded version but uh most of", "start": 572.92, "duration": 5.8}, {"text": "our compiles are basically the NPI based", "start": 576.079, "duration": 9.241}, {"text": "ones so uh so let's uh let's uh let me", "start": 578.72, "duration": 8.84}, {"text": "just pop out of here and let's see how", "start": 585.32, "duration": 5.04}, {"text": "this works right so if I do a module", "start": 587.56, "duration": 5.48}, {"text": "reset uh when you do a module reset it", "start": 590.36, "duration": 6.039}, {"text": "will uh reset to the defaults and you", "start": 593.04, "duration": 7.239}, {"text": "can see that on a CPU node uh you you", "start": 596.399, "duration": 7.801}, {"text": "you uh have uh the CPU stock loaded by", "start": 600.279, "duration": 6.8}, {"text": "default now I have another window of my", "start": 604.2, "duration": 6.879}, {"text": "own where I can go to a GPU node uh this", "start": 607.079, "duration": 6.481}, {"text": "won't work for everyone it's just I I'm", "start": 611.079, "duration": 4.481}, {"text": "just uh going to one one of the nodes", "start": 613.56, "duration": 4.48}, {"text": "that I know is not in use so if I do a", "start": 615.56, "duration": 5.88}, {"text": "module reset there you see now it has", "start": 618.04, "duration": 5.919}, {"text": "the GPU stock loaded by default because", "start": 621.44, "duration": 5.68}, {"text": "this is a GPU node so that's one good", "start": 623.959, "duration": 5.721}, {"text": "thing to remember is to just do a reset", "start": 627.12, "duration": 4.08}, {"text": "uh then you you will have the right", "start": 629.68, "duration": 5.08}, {"text": "stack on the right node on every node", "start": 631.2, "duration": 6.56}, {"text": "basically uh so now we did the reset now", "start": 634.76, "duration": 5.92}, {"text": "I'm going to do a module spider", "start": 637.76, "duration": 5.28}, {"text": "fftw uh you can see there are different", "start": 640.68, "duration": 4.88}, {"text": "versions it also tells you that there is", "start": 643.04, "duration": 7.039}, {"text": "an AMD version too uh so that's uh in", "start": 645.56, "duration": 7.16}, {"text": "interesting so now uh it's giving you", "start": 650.079, "duration": 4.56}, {"text": "all these versions what does this mean", "start": 652.72, "duration": 5.16}, {"text": "it means that uh if you want to Lad fftw", "start": 654.639, "duration": 5.841}, {"text": "you have to load one of these lines", "start": 657.88, "duration": 5.24}, {"text": "before you can load fftw so for example", "start": 660.48, "duration": 4.2}, {"text": "I can do module", "start": 663.12, "duration": 4.44}, {"text": "reset uh and then do module", "start": 664.68, "duration": 6.959}, {"text": "load uh let's pick one let's pick this", "start": 667.56, "duration": 5.88}, {"text": "Mage one", "start": 671.639, "duration": 6.0}, {"text": "here and now if you do module show", "start": 673.44, "duration": 7.36}, {"text": "fftw uh it's going to pick up the one", "start": 677.639, "duration": 5.64}, {"text": "that is corresponding to Mage so you can", "start": 680.8, "duration": 5.52}, {"text": "see uh the path has a vapage in it and", "start": 683.279, "duration": 8.68}, {"text": "even the um this fft W uh Library path", "start": 686.32, "duration": 8.6}, {"text": "uh if you go look at the library it's", "start": 691.959, "duration": 6.201}, {"text": "going to uh point to the mage location", "start": 694.92, "duration": 8.28}, {"text": "for the uh F uh for the", "start": 698.16, "duration": 8.52}, {"text": "MPI now you can also see that in the in", "start": 703.2, "duration": 5.52}, {"text": "this fftw we are loading uh we're", "start": 706.68, "duration": 4.24}, {"text": "changing a lot more things than what we", "start": 708.72, "duration": 5.6}, {"text": "had on matlb and this is because uh uh", "start": 710.92, "duration": 4.96}, {"text": "you need to change the path you need to", "start": 714.32, "duration": 3.8}, {"text": "change the dynamic Library path so if", "start": 715.88, "duration": 5.44}, {"text": "you see this location here uh hopefully", "start": 718.12, "duration": 5.519}, {"text": "this is going to work yeah so you can", "start": 721.32, "duration": 4.92}, {"text": "see all the dynamic libraries are", "start": 723.639, "duration": 6.281}, {"text": "located here right so", "start": 726.24, "duration": 6.839}, {"text": "uh and there and you can see that there", "start": 729.92, "duration": 6.68}, {"text": "is an fft home uh being", "start": 733.079, "duration": 5.041}, {"text": "set", "start": 736.6, "duration": 4.72}, {"text": "oh oh no I didn't load the fftw yet okay", "start": 738.12, "duration": 4.719}, {"text": "let me load the", "start": 741.32, "duration": 3.24}, {"text": "fftw", "start": 742.839, "duration": 5.721}, {"text": "uh and if I do Echo so now you can see", "start": 744.56, "duration": 7.719}, {"text": "uh it has this and the reason this is uh", "start": 748.56, "duration": 7.68}, {"text": "useful is if I want to uh find the uh", "start": 752.279, "duration": 6.441}, {"text": "Library location I can just do that so", "start": 756.24, "duration": 7.2}, {"text": "dollar fftw home/ lib and this is useful", "start": 758.72, "duration": 6.4}, {"text": "if you're doing configures or if you're", "start": 763.44, "duration": 3.639}, {"text": "changing your make files to point to the", "start": 765.12, "duration": 3.159}, {"text": "right", "start": 767.079, "duration": 6.56}, {"text": "location uh uh and as I said uh if you", "start": 768.279, "duration": 8.521}, {"text": "go to like an Ubuntu or uh or and do an", "start": 773.639, "duration": 6.521}, {"text": "opk install or if you go on a sentos", "start": 776.8, "duration": 5.56}, {"text": "machine or a rocky Linux machine and you", "start": 780.16, "duration": 4.679}, {"text": "a yum installed these libraries will be", "start": 782.36, "duration": 8.2}, {"text": "in user lib 64 so now they're located in", "start": 784.839, "duration": 9.041}, {"text": "a different place so most configures uh", "start": 790.56, "duration": 4.639}, {"text": "will have to be told where they're", "start": 793.88, "duration": 5.56}, {"text": "located so that uh uh they can compile", "start": 795.199, "duration": 6.32}, {"text": "correctly otherwise they look for it in", "start": 799.44, "duration": 3.88}, {"text": "the system paths and not find them and", "start": 801.519, "duration": 3.44}, {"text": "say that oh you don't have a FW", "start": 803.32, "duration": 3.24}, {"text": "installed that's not true it's actually", "start": 804.959, "duration": 4.641}, {"text": "there it's in a different place so and", "start": 806.56, "duration": 5.399}, {"text": "I'll show you an example of how to use", "start": 809.6, "duration": 4.32}, {"text": "this", "start": 811.959, "duration": 4.961}, {"text": "basically so let's", "start": 813.92, "duration": 6.76}, {"text": "uh go back to the", "start": 816.92, "duration": 3.76}, {"text": "presentation", "start": 821.56, "duration": 6.48}, {"text": "uh so we saw this uh so just to", "start": 823.12, "duration": 8.44}, {"text": "summarize uh you can get uh loading", "start": 828.04, "duration": 6.479}, {"text": "information uh I mean using module", "start": 831.56, "duration": 5.32}, {"text": "spider and you saw all the details you", "start": 834.519, "duration": 5.161}, {"text": "could get uh and once you have the right", "start": 836.88, "duration": 5.6}, {"text": "dependencies loaded you can do a module", "start": 839.68, "duration": 4.56}, {"text": "show and it'll actually show you all the", "start": 842.48, "duration": 3.32}, {"text": "variables that it's setting so there's a", "start": 844.24, "duration": 5.12}, {"text": "lot of information just from the module", "start": 845.8, "duration": 6.24}, {"text": "commands uh the key thing to remember is", "start": 849.36, "duration": 5.2}, {"text": "the CPU and GPU Stacks are completely", "start": 852.04, "duration": 7.0}, {"text": "independent so don't mix these two uh or", "start": 854.56, "duration": 7.04}, {"text": "use the GPU stack on a CPU node or the", "start": 859.04, "duration": 4.88}, {"text": "CPU stack on a GPU not and I've seen", "start": 861.6, "duration": 4.4}, {"text": "users do this because what they do is oh", "start": 863.92, "duration": 3.919}, {"text": "they do a module spider and say oh this", "start": 866.0, "duration": 3.92}, {"text": "library is only in the CPU stack but I'm", "start": 867.839, "duration": 4.161}, {"text": "just going to use it and they try to use", "start": 869.92, "duration": 4.599}, {"text": "it in the GPU and it fails if you see", "start": 872.0, "duration": 5.6}, {"text": "something like that uh the best approach", "start": 874.519, "duration": 6.481}, {"text": "is to just build the GPU version uh uh", "start": 877.6, "duration": 5.599}, {"text": "in your home directory that'll be the", "start": 881.0, "duration": 5.279}, {"text": "quickest way to uh get that going and we", "start": 883.199, "duration": 6.76}, {"text": "usually have the recipes uh available uh", "start": 886.279, "duration": 6.441}, {"text": "if if someone needs to compile from", "start": 889.959, "duration": 5.12}, {"text": "Source uh or you can put in a ticket", "start": 892.72, "duration": 4.52}, {"text": "like Nicole mentioned and uh we can", "start": 895.079, "duration": 5.44}, {"text": "follow up the other thing is we have a", "start": 897.24, "duration": 8.399}, {"text": "lot of uh examples uh in cm shared uh", "start": 900.519, "duration": 8.961}, {"text": "examples like Mar short so let me go", "start": 905.639, "duration": 7.801}, {"text": "there uh and you will see usage", "start": 909.48, "duration": 6.919}, {"text": "information so let's uh pick gromax uh", "start": 913.44, "duration": 4.959}, {"text": "and I said gromax because it has both", "start": 916.399, "duration": 4.721}, {"text": "CPU and GPU so if you go to a CPU", "start": 918.399, "duration": 5.601}, {"text": "version and look at what's", "start": 921.12, "duration": 5.959}, {"text": "loaded so this is a example bat script", "start": 924.0, "duration": 4.72}, {"text": "so you can just copy this over and", "start": 927.079, "duration": 3.481}, {"text": "change it to your inputs and things will", "start": 928.72, "duration": 4.679}, {"text": "work so you can see this CPU version is", "start": 930.56, "duration": 5.8}, {"text": "uh set up to use the compute partition", "start": 933.399, "duration": 5.401}, {"text": "and this is a hybrid code which uses", "start": 936.36, "duration": 4.839}, {"text": "both MPI and threads so that's the", "start": 938.8, "duration": 5.159}, {"text": "reason you have this and task per node", "start": 941.199, "duration": 5.241}, {"text": "is 16 which is the number of MPI tasks", "start": 943.959, "duration": 5.641}, {"text": "and then uh CPUs per task is eight which", "start": 946.44, "duration": 4.68}, {"text": "is the number of threads each of those", "start": 949.6, "duration": 4.76}, {"text": "MPI tasks will uh spawn and you can see", "start": 951.12, "duration": 6.12}, {"text": "down here I'm exporting the num threads", "start": 954.36, "duration": 5.36}, {"text": "to be matching that number", "start": 957.24, "duration": 5.48}, {"text": "uh but you can see here we are loading", "start": 959.72, "duration": 5.96}, {"text": "uh the CPU side of the stock so it's", "start": 962.72, "duration": 6.2}, {"text": "module Pudge module Lo slum module Lo", "start": 965.68, "duration": 5.279}, {"text": "CPU that gets you to the CPU now you", "start": 968.92, "duration": 3.88}, {"text": "could change this whole thing and uh", "start": 970.959, "duration": 3.601}, {"text": "remove these three lines and just", "start": 972.8, "duration": 3.599}, {"text": "replace it module reset and that will", "start": 974.56, "duration": 5.399}, {"text": "work fine too and then we loading GCC", "start": 976.399, "duration": 6.56}, {"text": "open MPI and gromax and then you have", "start": 979.959, "duration": 8.401}, {"text": "the typical gromax commands uh below so", "start": 982.959, "duration": 7.68}, {"text": "if if you go to the GPU side of things", "start": 988.36, "duration": 5.88}, {"text": "uh and look at the same program now you", "start": 990.639, "duration": 6.44}, {"text": "see I'm loading the GPU stack and then", "start": 994.24, "duration": 4.68}, {"text": "uh doing the opening so this will point", "start": 997.079, "duration": 3.44}, {"text": "to very different", "start": 998.92, "duration": 4.159}, {"text": "locations uh so you have to keep that in", "start": 1000.519, "duration": 5.041}, {"text": "mind and of course the script is", "start": 1003.079, "duration": 4.24}, {"text": "different too because now we need uh", "start": 1005.56, "duration": 4.199}, {"text": "gpus", "start": 1007.319, "duration": 5.08}, {"text": "requested and everything uh changes and", "start": 1009.759, "duration": 4.64}, {"text": "there's actually a GPU option in the", "start": 1012.399, "duration": 3.36}, {"text": "growmax", "start": 1014.399, "duration": 5.321}, {"text": "options uh so", "start": 1015.759, "duration": 6.681}, {"text": "uh so basically the first thing to do is", "start": 1019.72, "duration": 5.359}, {"text": "go see if there is uh a module for what", "start": 1022.44, "duration": 5.08}, {"text": "you're trying to run uh the next thing", "start": 1025.079, "duration": 4.801}, {"text": "to do is if you find the modules is to", "start": 1027.52, "duration": 4.24}, {"text": "go to this examples directory and say", "start": 1029.88, "duration": 3.4}, {"text": "hey do they already have a script", "start": 1031.76, "duration": 3.64}, {"text": "because uh those are the standard", "start": 1033.28, "duration": 4.0}, {"text": "questions we get like oh how do I run", "start": 1035.4, "duration": 4.08}, {"text": "this well go look in the examples you'll", "start": 1037.28, "duration": 4.679}, {"text": "probably have an example for most of the", "start": 1039.48, "duration": 4.599}, {"text": "popular codes we have", "start": 1041.959, "duration": 3.72}, {"text": "examples", "start": 1044.079, "duration": 5.201}, {"text": "uh so let me go back", "start": 1045.679, "duration": 7.12}, {"text": "uh to the", "start": 1049.28, "duration": 3.519}, {"text": "presentation so now uh that was the", "start": 1055.72, "duration": 5.079}, {"text": "modules part of it now you'll you might", "start": 1058.36, "duration": 4.28}, {"text": "say oh yeah I don't see the application", "start": 1060.799, "duration": 4.801}, {"text": "I want there uh before you go off and", "start": 1062.64, "duration": 5.2}, {"text": "try to install it yourself also check if", "start": 1065.6, "duration": 5.12}, {"text": "we have a singularity container for it", "start": 1067.84, "duration": 5.0}, {"text": "uh and this is because we've found that", "start": 1070.72, "duration": 5.88}, {"text": "some of them are easy to uh uh make", "start": 1072.84, "duration": 6.4}, {"text": "available via singularity", "start": 1076.6, "duration": 5.24}, {"text": "uh and on expanse the containers are at", "start": 1079.24, "duration": 6.6}, {"text": "uh uh in the directories uh CM uh shared", "start": 1081.84, "duration": 5.76}, {"text": "apps containers", "start": 1085.84, "duration": 4.68}, {"text": "Singularity uh some examples of what we", "start": 1087.6, "duration": 6.16}, {"text": "do using Singularity are tensorflow pyos", "start": 1090.52, "duration": 6.84}, {"text": "alpha for uh paraview and visit all", "start": 1093.76, "duration": 5.24}, {"text": "these packages have one thing in common", "start": 1097.36, "duration": 3.92}, {"text": "they have a lot of dependencies and lot", "start": 1099.0, "duration": 7.159}, {"text": "of uh uh changes that happen frequently", "start": 1101.28, "duration": 7.639}, {"text": "so it's a lot harder for us to change", "start": 1106.159, "duration": 5.161}, {"text": "the application stack that is installed", "start": 1108.919, "duration": 5.24}, {"text": "on the system so instead of that we", "start": 1111.32, "duration": 6.479}, {"text": "usually just go do a singularity install", "start": 1114.159, "duration": 5.88}, {"text": "and uh in the last part of the talk I'll", "start": 1117.799, "duration": 4.201}, {"text": "show you one of the definition files to", "start": 1120.039, "duration": 4.201}, {"text": "see how that works", "start": 1122.0, "duration": 6.159}, {"text": "uh and uh these definition files by the", "start": 1124.24, "duration": 6.319}, {"text": "way whatever we have in these containers", "start": 1128.159, "duration": 5.201}, {"text": "uh Marty has been maintaining uh uh", "start": 1130.559, "duration": 5.281}, {"text": "these containers uh we also have the", "start": 1133.36, "duration": 4.52}, {"text": "definition files available so if you go", "start": 1135.84, "duration": 4.92}, {"text": "to the link that's uh in right below", "start": 1137.88, "duration": 5.08}, {"text": "there in GitHub you can find all the", "start": 1140.76, "duration": 4.399}, {"text": "definition files and these are useful", "start": 1142.96, "duration": 5.24}, {"text": "for users if you want to say you have a", "start": 1145.159, "duration": 4.841}, {"text": "say you have a tensorflow container and", "start": 1148.2, "duration": 4.12}, {"text": "you say oh well it has doesn't have this", "start": 1150.0, "duration": 4.88}, {"text": "particular python package I need you", "start": 1152.32, "duration": 5.28}, {"text": "have two options if that happens one is", "start": 1154.88, "duration": 6.0}, {"text": "to uh get a shell in that in that", "start": 1157.6, "duration": 5.36}, {"text": "Singularity environment and then install", "start": 1160.88, "duration": 4.279}, {"text": "the python packages under that", "start": 1162.96, "duration": 4.599}, {"text": "environment uh and point to point the", "start": 1165.159, "duration": 4.841}, {"text": "install to your home directory or or a", "start": 1167.559, "duration": 4.801}, {"text": "different directory and then use that", "start": 1170.0, "duration": 5.44}, {"text": "path uh that can sometimes get clunky uh", "start": 1172.36, "duration": 5.88}, {"text": "to manage especially if you have maybe", "start": 1175.44, "duration": 4.119}, {"text": "three or four different containers", "start": 1178.24, "duration": 3.04}, {"text": "you're using it kind of gets difficult", "start": 1179.559, "duration": 3.841}, {"text": "to track which one was built under which", "start": 1181.28, "duration": 4.36}, {"text": "environment so you might want to go back", "start": 1183.4, "duration": 4.519}, {"text": "and rebuild the container and then in", "start": 1185.64, "duration": 5.8}, {"text": "that case start off from Marty's", "start": 1187.919, "duration": 5.321}, {"text": "definition file and then add what you", "start": 1191.44, "duration": 4.64}, {"text": "need to it and I'll show you uh how that", "start": 1193.24, "duration": 4.799}, {"text": "is done and Marty is going to obviously", "start": 1196.08, "duration": 4.68}, {"text": "go into a lot more detail in his", "start": 1198.039, "duration": 7.041}, {"text": "talk so uh let me show you the container", "start": 1200.76, "duration": 6.68}, {"text": "directory uh because there are lots of", "start": 1205.08, "duration": 5.32}, {"text": "containers there uh so like say you go", "start": 1207.44, "duration": 5.56}, {"text": "to py TCH you'll see uh there are lots", "start": 1210.4, "duration": 6.24}, {"text": "of uh versions there uh because often", "start": 1213.0, "duration": 5.919}, {"text": "some of these packages change so much", "start": 1216.64, "duration": 4.44}, {"text": "between versions that uh you know the", "start": 1218.919, "duration": 5.161}, {"text": "API changes completely and say you try", "start": 1221.08, "duration": 6.32}, {"text": "to use uh something that works in py", "start": 1224.08, "duration": 6.92}, {"text": "torch in pyos 110 it's going to", "start": 1227.4, "duration": 6.159}, {"text": "fail uh", "start": 1231.0, "duration": 5.559}, {"text": "so", "start": 1233.559, "duration": 8.12}, {"text": "uh so that's uh um", "start": 1236.559, "duration": 11.401}, {"text": "uh that's basically um uh where uh this", "start": 1241.679, "duration": 8.641}, {"text": "uh these older versions will be useful", "start": 1247.96, "duration": 6.4}, {"text": "because uh uh just for compatibility you", "start": 1250.32, "duration": 5.92}, {"text": "can just use the old version that works", "start": 1254.36, "duration": 4.24}, {"text": "with your particular package now of", "start": 1256.24, "duration": 4.28}, {"text": "course we can't keep an infinite version", "start": 1258.6, "duration": 4.6}, {"text": "level number of these old versions but", "start": 1260.52, "duration": 5.72}, {"text": "uh again uh the definition files are in", "start": 1263.2, "duration": 5.599}, {"text": "GitHub so you can always rebuild an old", "start": 1266.24, "duration": 6.08}, {"text": "version from the definition file but the", "start": 1268.799, "duration": 6.721}, {"text": "key thing to remember is that uh we have", "start": 1272.32, "duration": 5.12}, {"text": "multiple versions and the latest version", "start": 1275.52, "duration": 5.92}, {"text": "of points to the latest thing but uh if", "start": 1277.44, "duration": 5.52}, {"text": "if say you had an old script that", "start": 1281.44, "duration": 3.76}, {"text": "suddenly stops working first thing to do", "start": 1282.96, "duration": 5.599}, {"text": "is to go check to see if the pych latest", "start": 1285.2, "duration": 5.719}, {"text": "uh recently changed and it's pointing to", "start": 1288.559, "duration": 5.12}, {"text": "a newer version and then you can go uh", "start": 1290.919, "duration": 4.481}, {"text": "change that", "start": 1293.679, "duration": 6.281}, {"text": "out uh and then uh we have uh for", "start": 1295.4, "duration": 6.84}, {"text": "example for Alpha fold again we have two", "start": 1299.96, "duration": 5.839}, {"text": "versions there now we do in the examples", "start": 1302.24, "duration": 6.6}, {"text": "directory uh so let me CH see I'm shared", "start": 1305.799, "duration": 4.281}, {"text": "examples", "start": 1308.84, "duration": 3.8}, {"text": "sdsc I think I see a question which was", "start": 1310.08, "duration": 4.959}, {"text": "asking for the path so I'm going to put", "start": 1312.64, "duration": 6.08}, {"text": "the path in the", "start": 1315.039, "duration": 5.841}, {"text": "uh help", "start": 1318.72, "duration": 4.839}, {"text": "desk uh", "start": 1320.88, "duration": 5.0}, {"text": "channel", "start": 1323.559, "duration": 7.081}, {"text": "uh so uh let me show you one of the", "start": 1325.88, "duration": 8.0}, {"text": "singularity examples right uh I think if", "start": 1330.64, "duration": 5.279}, {"text": "I look at tensor", "start": 1333.88, "duration": 5.039}, {"text": "FL", "start": 1335.919, "duration": 5.961}, {"text": "uh uh you'll see some Singularity", "start": 1338.919, "duration": 6.841}, {"text": "examples here", "start": 1341.88, "duration": 3.88}, {"text": "uh uh", "start": 1346.08, "duration": 4.44}, {"text": "one thing I I want to note is that the", "start": 1348.919, "duration": 4.401}, {"text": "singularity module has gone to 3.9 so", "start": 1350.52, "duration": 4.68}, {"text": "that needs to change but other than that", "start": 1353.32, "duration": 6.92}, {"text": "this should uh work fine I think uh", "start": 1355.2, "duration": 7.599}, {"text": "and uh but you you can see you're just", "start": 1360.24, "duration": 5.799}, {"text": "loading the singularity module uh and uh", "start": 1362.799, "duration": 5.521}, {"text": "the open MPI that's compatible with with", "start": 1366.039, "duration": 4.0}, {"text": "the version in the singularity and I'll", "start": 1368.32, "duration": 4.4}, {"text": "talk about this a little bit further", "start": 1370.039, "duration": 8.0}, {"text": "down and you're running uh uh the code", "start": 1372.72, "duration": 8.12}, {"text": "via Singularity so that's how it", "start": 1378.039, "duration": 5.281}, {"text": "works so let me go back to the", "start": 1380.84, "duration": 5.24}, {"text": "presentation", "start": 1383.32, "duration": 2.76}, {"text": "now so this is uh uh the the example", "start": 1389.44, "duration": 6.76}, {"text": "that I was showing you everything uh", "start": 1394.4, "duration": 6.639}, {"text": "looks uh the same on the sbatch side uh", "start": 1396.2, "duration": 7.839}, {"text": "just load the singularity Pro and then", "start": 1401.039, "duration": 7.841}, {"text": "uh uh you do the execution via it now in", "start": 1404.039, "duration": 6.921}, {"text": "this case you'll see that we are binding", "start": 1408.88, "duration": 4.159}, {"text": "a directory couple of directories the/", "start": 1410.96, "duration": 5.079}, {"text": "expansion SL scratch this is because", "start": 1413.039, "duration": 5.24}, {"text": "you're running in a container and by", "start": 1416.039, "duration": 4.041}, {"text": "default the home directory is bound into", "start": 1418.279, "duration": 3.52}, {"text": "the Container but the other directories", "start": 1420.08, "duration": 4.079}, {"text": "are not so if you don't do this bind", "start": 1421.799, "duration": 4.88}, {"text": "step uh it will say that the directory", "start": 1424.159, "duration": 5.561}, {"text": "is missing because it doesn't find the", "start": 1426.679, "duration": 5.36}, {"text": "location in the", "start": 1429.72, "duration": 5.319}, {"text": "container", "start": 1432.039, "duration": 3.0}, {"text": "uh so", "start": 1436.559, "duration": 5.281}, {"text": "uh that was basically uh applications", "start": 1438.4, "duration": 5.44}, {"text": "that are already available on expans", "start": 1441.84, "duration": 4.04}, {"text": "that we've either made available using", "start": 1443.84, "duration": 4.56}, {"text": "modules or using Singularity containers", "start": 1445.88, "duration": 4.72}, {"text": "now let's look at Python and R", "start": 1448.4, "duration": 5.32}, {"text": "specifically so starting with", "start": 1450.6, "duration": 6.0}, {"text": "python now there are lots of uh python", "start": 1453.72, "duration": 4.92}, {"text": "applications that we actually have in", "start": 1456.6, "duration": 4.76}, {"text": "modules uh and I have examples here of", "start": 1458.64, "duration": 6.399}, {"text": "Pat lab plot lab pumi", "start": 1461.36, "duration": 6.6}, {"text": "pcii but these are built with the python", "start": 1465.039, "duration": 5.161}, {"text": "that is in our applic in our module", "start": 1467.96, "duration": 6.56}, {"text": "stack right so uh so you'll have to load", "start": 1470.2, "duration": 6.04}, {"text": "that particular Python and then load", "start": 1474.52, "duration": 5.24}, {"text": "this to uh uh to get uh to use these and", "start": 1476.24, "duration": 4.88}, {"text": "again if you go to the examples", "start": 1479.76, "duration": 4.2}, {"text": "directory you will see uh details of and", "start": 1481.12, "duration": 5.12}, {"text": "I'll probably show you one of the pi SCF", "start": 1483.96, "duration": 4.16}, {"text": "example to show", "start": 1486.24, "duration": 5.039}, {"text": "this uh since this is in the our module", "start": 1488.12, "duration": 5.159}, {"text": "stack you can use module spider and", "start": 1491.279, "duration": 4.321}, {"text": "module show just like we've did before", "start": 1493.279, "duration": 4.76}, {"text": "to get more information and some some of", "start": 1495.6, "duration": 5.36}, {"text": "these are dependent on MPI like Pi SCF", "start": 1498.039, "duration": 6.721}, {"text": "or PI MPI for pi uh so you need to you", "start": 1500.96, "duration": 6.12}, {"text": "will need to load the right mpis and the", "start": 1504.76, "duration": 5.76}, {"text": "python and then uh load these", "start": 1507.08, "duration": 5.92}, {"text": "modules", "start": 1510.52, "duration": 5.24}, {"text": "so I would say you can use this modules", "start": 1513.0, "duration": 4.72}, {"text": "based approach if everything you need", "start": 1515.76, "duration": 4.919}, {"text": "for your application uh is in these", "start": 1517.72, "duration": 7.12}, {"text": "modules that is uh like say uh your", "start": 1520.679, "duration": 6.801}, {"text": "application needs uh numai and pandas", "start": 1524.84, "duration": 5.52}, {"text": "and we have modules for both of them go", "start": 1527.48, "duration": 5.76}, {"text": "ahead and use the modules version but", "start": 1530.36, "duration": 6.84}, {"text": "often what happens is uh users just say", "start": 1533.24, "duration": 6.2}, {"text": "oh no I know I need this other python", "start": 1537.2, "duration": 5.28}, {"text": "package that isn't in modules and uh or", "start": 1539.44, "duration": 5.76}, {"text": "you know this other thing uh that needs", "start": 1542.48, "duration": 4.919}, {"text": "a newer version of numpy or you know", "start": 1545.2, "duration": 5.719}, {"text": "your CPI version is not uh uh doesn't", "start": 1547.399, "duration": 5.241}, {"text": "have my the package that I need or", "start": 1550.919, "duration": 4.321}, {"text": "whatever like there could be lots of", "start": 1552.64, "duration": 5.08}, {"text": "reasons why what we have in the modules", "start": 1555.24, "duration": 6.159}, {"text": "is not useful for you so if you need uh", "start": 1557.72, "duration": 7.4}, {"text": "uh a lot more uh uh installations it's", "start": 1561.399, "duration": 7.16}, {"text": "best to go do an miniconda 3 or a", "start": 1565.12, "duration": 6.36}, {"text": "singularity approach now if you do one", "start": 1568.559, "duration": 4.36}, {"text": "of these two", "start": 1571.48, "duration": 5.64}, {"text": "approaches don't mix the modules from uh", "start": 1572.919, "duration": 7.521}, {"text": "our stack and the miniconda install or", "start": 1577.12, "duration": 5.6}, {"text": "the container there will definitely be", "start": 1580.44, "duration": 4.52}, {"text": "conflicts and it'll fail or you know the", "start": 1582.72, "duration": 5.28}, {"text": "python version will be different or some", "start": 1584.96, "duration": 5.599}, {"text": "dependency will not be there in the", "start": 1588.0, "duration": 4.6}, {"text": "miniconda instance and then it's going", "start": 1590.559, "duration": 4.521}, {"text": "to cause all kinds of problems so if you", "start": 1592.6, "duration": 4.12}, {"text": "go down the route of oh I need a", "start": 1595.08, "duration": 4.36}, {"text": "miniconda install try to get everything", "start": 1596.72, "duration": 4.72}, {"text": "installed in the miniconda whatever you", "start": 1599.44, "duration": 6.959}, {"text": "need right so basically go the miniconda", "start": 1601.44, "duration": 7.44}, {"text": "3 route if the software available and", "start": 1606.399, "duration": 4.241}, {"text": "the system doesn't cover your needs like", "start": 1608.88, "duration": 4.279}, {"text": "I said especially if this is custom", "start": 1610.64, "duration": 5.12}, {"text": "installs where you know both python", "start": 1613.159, "duration": 4.601}, {"text": "dependencies are not there or even", "start": 1615.76, "duration": 3.919}, {"text": "sometimes non-python stuff is missing", "start": 1617.76, "duration": 4.36}, {"text": "right that uh that's available in cond", "start": 1619.679, "duration": 4.161}, {"text": "and you can install through", "start": 1622.12, "duration": 5.4}, {"text": "cond uh we do go the miniconda route", "start": 1623.84, "duration": 5.52}, {"text": "instead of the full Anaconda install", "start": 1627.52, "duration": 3.68}, {"text": "because uh it's a little more", "start": 1629.36, "duration": 4.48}, {"text": "lightweight in terms of space so you", "start": 1631.2, "duration": 4.76}, {"text": "should uh definitely start with a", "start": 1633.84, "duration": 3.76}, {"text": "miniconda", "start": 1635.96, "duration": 4.36}, {"text": "instance the next thing is install this", "start": 1637.6, "duration": 5.92}, {"text": "in your home directory don't install", "start": 1640.32, "duration": 6.44}, {"text": "miniconda 3 into any luster location uh", "start": 1643.52, "duration": 5.32}, {"text": "I think as Andy mentioned", "start": 1646.76, "duration": 6.2}, {"text": "yesterday uh uh and uh and I think", "start": 1648.84, "duration": 5.959}, {"text": "probably Marty also mentioned basically", "start": 1652.96, "duration": 4.719}, {"text": "the luster location has", "start": 1654.799, "duration": 9.6}, {"text": "uh uh uh a parallel file servers behind", "start": 1657.679, "duration": 9.441}, {"text": "uh the file system right so everything", "start": 1664.399, "duration": 5.0}, {"text": "you do is hitting a lot more servers", "start": 1667.12, "duration": 4.32}, {"text": "than uh your home directory which is", "start": 1669.399, "duration": 5.28}, {"text": "basically one NSF server now you might", "start": 1671.44, "duration": 5.239}, {"text": "think oh isn't that better if I hit more", "start": 1674.679, "duration": 4.521}, {"text": "servers it is better if you're writing", "start": 1676.679, "duration": 8.84}, {"text": "big files and big uh uh big uh IO blocks", "start": 1679.2, "duration": 9.24}, {"text": "because then uh having more servers will", "start": 1685.519, "duration": 6.081}, {"text": "increase your bandwidth but the key is", "start": 1688.44, "duration": 5.359}, {"text": "with luster and uh with most of these", "start": 1691.6, "duration": 3.72}, {"text": "parallel file systems is that the", "start": 1693.799, "duration": 3.72}, {"text": "metadata is actually not parallelized", "start": 1695.32, "duration": 6.28}, {"text": "that much and uh also the number of", "start": 1697.519, "duration": 7.321}, {"text": "metadata operations is higher because uh", "start": 1701.6, "duration": 5.4}, {"text": "when you spread the file over across a", "start": 1704.84, "duration": 4.12}, {"text": "bunch of different targets which are on", "start": 1707.0, "duration": 4.36}, {"text": "different servers the metadata server", "start": 1708.96, "duration": 4.0}, {"text": "now has to keep track of all of them", "start": 1711.36, "duration": 3.72}, {"text": "right so it there's a lot more metadata", "start": 1712.96, "duration": 4.48}, {"text": "involved and the unfortunate part about", "start": 1715.08, "duration": 5.68}, {"text": "miniconda or Ina is that they will", "start": 1717.44, "duration": 7.119}, {"text": "install like 60,000 files and when you", "start": 1720.76, "duration": 6.919}, {"text": "try to load this environment it's going", "start": 1724.559, "duration": 5.6}, {"text": "to try to hit all of those files uh when", "start": 1727.679, "duration": 4.72}, {"text": "it does the initial pass and that causes", "start": 1730.159, "duration": 5.321}, {"text": "a lot of system problems because now you", "start": 1732.399, "duration": 5.041}, {"text": "if you have like say 20 of these min", "start": 1735.48, "duration": 4.36}, {"text": "miniconda installs in luster you're", "start": 1737.44, "duration": 6.839}, {"text": "going to have like continuous like 50", "start": 1739.84, "duration": 7.719}, {"text": "20,000 uh file opens per second which is", "start": 1744.279, "duration": 5.561}, {"text": "really bad for luster can cause system", "start": 1747.559, "duration": 5.041}, {"text": "problems so that's why avoid putting", "start": 1749.84, "duration": 4.88}, {"text": "mini cond into any luster location put", "start": 1752.6, "duration": 4.12}, {"text": "it in your home directory your home", "start": 1754.72, "duration": 3.839}, {"text": "directory has 100 gabt so it should", "start": 1756.72, "duration": 4.079}, {"text": "cover most of your miniconda", "start": 1758.559, "duration": 5.96}, {"text": "installs uh at least like I haven't seen", "start": 1760.799, "duration": 6.12}, {"text": "anyone who runs out of space uh for mini", "start": 1764.519, "duration": 5.28}, {"text": "cond installs in the home directory so", "start": 1766.919, "duration": 5.281}, {"text": "that's the place to put it uh NFS", "start": 1769.799, "duration": 4.72}, {"text": "servers uh handle this a little bit", "start": 1772.2, "duration": 4.56}, {"text": "better and uh", "start": 1774.519, "duration": 7.801}, {"text": "also uh uh don't have uh impact like uh", "start": 1776.76, "duration": 7.84}, {"text": "like the luster uh situation so that's", "start": 1782.32, "duration": 4.599}, {"text": "one thing to keep in mind the other is", "start": 1784.6, "duration": 5.12}, {"text": "when you do GPU installs make sure that", "start": 1786.919, "duration": 5.521}, {"text": "the package is chosen uh work with the", "start": 1789.72, "duration": 6.52}, {"text": "driver on the expanse uh GPU nodes uh", "start": 1792.44, "duration": 5.56}, {"text": "for example this I I have the current", "start": 1796.24, "duration": 4.12}, {"text": "driver version here and that supports up", "start": 1798.0, "duration": 5.559}, {"text": "to Cuda 116 so make sure any Cuda", "start": 1800.36, "duration": 5.72}, {"text": "installs you do or Cuda based packages", "start": 1803.559, "duration": 5.161}, {"text": "you install in Python uh are with a", "start": 1806.08, "duration": 5.599}, {"text": "version that is 116 or older like if you", "start": 1808.72, "duration": 4.679}, {"text": "pick a newer version it might fail", "start": 1811.679, "duration": 3.48}, {"text": "because the driver can't support it so", "start": 1813.399, "duration": 4.64}, {"text": "you need to keep that in mind this is", "start": 1815.159, "duration": 4.481}, {"text": "especially true for tensorflow for", "start": 1818.039, "duration": 3.88}, {"text": "example like it has lots of versions in", "start": 1819.64, "duration": 5.12}, {"text": "mini in cond you should pick the one", "start": 1821.919, "duration": 7.321}, {"text": "that is uh compatible with the", "start": 1824.76, "duration": 4.48}, {"text": "so uh here I'm basically showing you uh", "start": 1829.519, "duration": 7.081}, {"text": "an example of basically uh installing", "start": 1833.76, "duration": 6.84}, {"text": "using miniconda so I do an srun uh to", "start": 1836.6, "duration": 9.919}, {"text": "get a GPU node uh and uh get the", "start": 1840.6, "duration": 8.559}, {"text": "miniconda installer script and this you", "start": 1846.519, "duration": 4.4}, {"text": "can get from the Anaconda", "start": 1849.159, "duration": 3.4}, {"text": "website", "start": 1850.919, "duration": 4.64}, {"text": "um and uh by the way uh they have check", "start": 1852.559, "duration": 5.12}, {"text": "sounds for these scripts uh on the", "start": 1855.559, "duration": 5.281}, {"text": "website so when you download this uh if", "start": 1857.679, "duration": 5.081}, {"text": "you're doing this in your in your", "start": 1860.84, "duration": 3.76}, {"text": "account make sure the check some matches", "start": 1862.76, "duration": 4.519}, {"text": "before you install it", "start": 1864.6, "duration": 6.319}, {"text": "uh and uh run the script and then it's", "start": 1867.279, "duration": 5.201}, {"text": "ask going to ask you to review the", "start": 1870.919, "duration": 4.36}, {"text": "license agreement and say yes to that uh", "start": 1872.48, "duration": 5.319}, {"text": "and then you can install it in your home", "start": 1875.279, "duration": 4.841}, {"text": "directory uh which is where it will by", "start": 1877.799, "duration": 5.24}, {"text": "put it by default now", "start": 1880.12, "duration": 6.159}, {"text": "um uh if you have multiple applications", "start": 1883.039, "duration": 6.081}, {"text": "that you might be installing and maybe", "start": 1886.279, "duration": 4.961}, {"text": "they have different dependencies even", "start": 1889.12, "duration": 5.679}, {"text": "within cond uh you can use environments", "start": 1891.24, "duration": 6.52}, {"text": "and uh to manage those and I think Peter", "start": 1894.799, "duration": 4.521}, {"text": "probably will talk about this in his", "start": 1897.76, "duration": 3.039}, {"text": "talk so I'm not going to go too much", "start": 1899.32, "duration": 5.04}, {"text": "into detail there but uh one thing I", "start": 1900.799, "duration": 7.041}, {"text": "wanted to show you is uh how this looks", "start": 1904.36, "duration": 8.84}, {"text": "uh uh when I do uh AA search on say Cuda", "start": 1907.84, "duration": 8.959}, {"text": "right U so Nvidia has a channel where", "start": 1913.2, "duration": 5.319}, {"text": "basically basically they have all the", "start": 1916.799, "duration": 6.401}, {"text": "Cuda uh Cuda based packages uh including", "start": 1918.519, "duration": 7.201}, {"text": "tensor flow and P torch and optimized", "start": 1923.2, "duration": 5.839}, {"text": "versions so I'm doing a cond search in", "start": 1925.72, "duration": 6.679}, {"text": "the Nvidia channel uh for the Cuda", "start": 1929.039, "duration": 6.36}, {"text": "versions and you can see there's 11", "start": 1932.399, "duration": 4.28}, {"text": "version 11", "start": 1935.399, "duration": 4.361}, {"text": "onwards uh uh but there are some that", "start": 1936.679, "duration": 5.24}, {"text": "are older than what we can support like", "start": 1939.76, "duration": 4.84}, {"text": "117 will probably not work on our system", "start": 1941.919, "duration": 4.401}, {"text": "because our driver is too old so you", "start": 1944.6, "duration": 5.959}, {"text": "need to keep that in mind um so you know", "start": 1946.32, "duration": 6.599}, {"text": "I can install a particular version cond", "start": 1950.559, "duration": 4.761}, {"text": "install DC with the channel and the Cuda", "start": 1952.919, "duration": 3.521}, {"text": "in the version", "start": 1955.32, "duration": 4.319}, {"text": "number uh one thing to keep in mind is", "start": 1956.44, "duration": 5.16}, {"text": "uh there are multiple channels that have", "start": 1959.639, "duration": 3.92}, {"text": "Cuda installations so you can probably", "start": 1961.6, "duration": 4.28}, {"text": "find uh older versions elsewhere if you", "start": 1963.559, "duration": 5.36}, {"text": "want uh uh and also sometimes some", "start": 1965.88, "duration": 5.88}, {"text": "packages have particular requirements so", "start": 1968.919, "duration": 3.76}, {"text": "if that", "start": 1971.76, "duration": 3.84}, {"text": "happens uh best thing is to create a new", "start": 1972.679, "duration": 5.441}, {"text": "environment and then uh uh use the", "start": 1975.6, "duration": 4.76}, {"text": "packages that you need or install the", "start": 1978.12, "duration": 3.84}, {"text": "packages that you need so here I did a", "start": 1980.36, "duration": 3.439}, {"text": "cond install and then you can see it's", "start": 1981.96, "duration": 4.559}, {"text": "installing all these uh", "start": 1983.799, "duration": 5.84}, {"text": "packages now one thing to keep in mind", "start": 1986.519, "duration": 5.081}, {"text": "is these packages are there in our", "start": 1989.639, "duration": 3.601}, {"text": "regular environment too but there are", "start": 1991.6, "duration": 4.4}, {"text": "different versions so this is what I", "start": 1993.24, "duration": 7.96}, {"text": "mean by don't try to install um uh", "start": 1996.0, "duration": 7.799}, {"text": "versions that are", "start": 2001.2, "duration": 7.839}, {"text": "uh uh basically conflict with like don't", "start": 2003.799, "duration": 7.321}, {"text": "try to use conflicting versions", "start": 2009.039, "duration": 3.961}, {"text": "basically if you're using miniconda just", "start": 2011.12, "duration": 3.679}, {"text": "use everything in", "start": 2013.0, "duration": 4.639}, {"text": "miniconda and one thing I noticed is it", "start": 2014.799, "duration": 5.561}, {"text": "installed all the newer versions here so", "start": 2017.639, "duration": 4.121}, {"text": "I probably got something wrong when I", "start": 2020.36, "duration": 3.72}, {"text": "was specifying the version but the Cuda", "start": 2021.76, "duration": 5.12}, {"text": "itself it it actually installed 116 so", "start": 2024.08, "duration": 5.28}, {"text": "that's probably fine", "start": 2026.88, "duration": 9.32}, {"text": "yeah uh so uh so you can actually uh uh", "start": 2029.36, "duration": 9.199}, {"text": "pick and choose the versions you want uh", "start": 2036.2, "duration": 5.199}, {"text": "when you're doing these", "start": 2038.559, "duration": 2.84}, {"text": "installs so let me move", "start": 2042.84, "duration": 6.839}, {"text": "this", "start": 2046.679, "duration": 3.0}, {"text": "page okay so I have one separate uh uh", "start": 2055.96, "duration": 11.159}, {"text": "uh note about uh MPI for pi and uh this", "start": 2061.839, "duration": 9.52}, {"text": "is mainly because uh uh when you install", "start": 2067.119, "duration": 7.24}, {"text": "MP Pi through minond you have to keep", "start": 2071.359, "duration": 5.921}, {"text": "something in mind so the thing with MPI", "start": 2074.359, "duration": 5.441}, {"text": "for pi is is a python install but it", "start": 2077.28, "duration": 4.359}, {"text": "does depend on the MPI that is being", "start": 2079.8, "duration": 4.039}, {"text": "used so we have system installed", "start": 2081.639, "duration": 4.881}, {"text": "versions of MPI 4 Pi so if you do module", "start": 2083.839, "duration": 7.32}, {"text": "spider uh pi- MPI 4 Pi you'll see there", "start": 2086.52, "duration": 7.24}, {"text": "are versions with different flavors of", "start": 2091.159, "duration": 6.281}, {"text": "MPI like Mage 2 and open MPI", "start": 2093.76, "duration": 6.52}, {"text": "uh so if you're using the modules uh", "start": 2097.44, "duration": 4.88}, {"text": "stack for everything you'll be okay", "start": 2100.28, "duration": 4.72}, {"text": "because these were built with the MPI", "start": 2102.32, "duration": 5.08}, {"text": "that's on the", "start": 2105.0, "duration": 7.119}, {"text": "system but if you uh uh are doing a Mini", "start": 2107.4, "duration": 7.679}, {"text": "cond 3 install and just do a cond based", "start": 2112.119, "duration": 6.641}, {"text": "install of uh uh MPI for pi or sometimes", "start": 2115.079, "duration": 5.401}, {"text": "you might install a package that needs", "start": 2118.76, "duration": 3.92}, {"text": "MP4 pi and cond just pulls it in and", "start": 2120.48, "duration": 5.08}, {"text": "says oh yeah I can install MPI 4 pi and", "start": 2122.68, "duration": 4.88}, {"text": "it's going to install it", "start": 2125.56, "duration": 3.6}, {"text": "now the problem with that is it's going", "start": 2127.56, "duration": 4.559}, {"text": "to pull in an MPI install in miniconda", "start": 2129.16, "duration": 6.16}, {"text": "of its own and usually it's uh either M", "start": 2132.119, "duration": 6.48}, {"text": "or open MPI and that's okay if you're", "start": 2135.32, "duration": 6.36}, {"text": "running single node but if you go multi", "start": 2138.599, "duration": 6.0}, {"text": "node uh what happens is those installs", "start": 2141.68, "duration": 6.64}, {"text": "in Anaconda aren't aware of our uh infin", "start": 2144.599, "duration": 6.641}, {"text": "band Network locations and uh the pack", "start": 2148.32, "duration": 5.32}, {"text": "the the drivers for infinite band and so", "start": 2151.24, "duration": 4.839}, {"text": "on so what will happen is if you do a", "start": 2153.64, "duration": 4.52}, {"text": "multi node run it's not going to use the", "start": 2156.079, "duration": 4.201}, {"text": "infinite Network it's instead it's going", "start": 2158.16, "duration": 5.32}, {"text": "to go over probably the ethernet Network", "start": 2160.28, "duration": 5.96}, {"text": "that's associated with the system uh", "start": 2163.48, "duration": 6.16}, {"text": "side of things which will work but it's", "start": 2166.24, "duration": 5.079}, {"text": "not going to be high performance and", "start": 2169.64, "duration": 3.76}, {"text": "also it might get you a note from us", "start": 2171.319, "duration": 4.04}, {"text": "because it's like oh you're kind of", "start": 2173.4, "duration": 3.959}, {"text": "overloading the system network instead", "start": 2175.359, "duration": 4.441}, {"text": "of using the infinite band Network which", "start": 2177.359, "duration": 5.521}, {"text": "is uh more appropriate for like", "start": 2179.8, "duration": 4.88}, {"text": "internode", "start": 2182.88, "duration": 4.439}, {"text": "communication so uh I mean this is a", "start": 2184.68, "duration": 4.48}, {"text": "rare case what I've seen is generally", "start": 2187.319, "duration": 4.201}, {"text": "most people using python don't really", "start": 2189.16, "duration": 4.76}, {"text": "scale up their codes uh going to", "start": 2191.52, "duration": 5.76}, {"text": "multiple nodes or large number of nodes", "start": 2193.92, "duration": 6.0}, {"text": "uh but if you do end up in a situation", "start": 2197.28, "duration": 5.52}, {"text": "where you need that uh this will be the", "start": 2199.92, "duration": 4.36}, {"text": "rare occasion where you would have to", "start": 2202.8, "duration": 6.24}, {"text": "mix the MPI from external uh with the um", "start": 2204.28, "duration": 6.799}, {"text": "installation in a Mond and the way we", "start": 2209.04, "duration": 4.52}, {"text": "usually do that is we install everything", "start": 2211.079, "duration": 4.641}, {"text": "we can in miniconda except for the MPI", "start": 2213.56, "duration": 3.68}, {"text": "parts", "start": 2215.72, "duration": 4.04}, {"text": "and we load the NPI system MPI and then", "start": 2217.24, "duration": 5.599}, {"text": "build the MPI for pi from source using", "start": 2219.76, "duration": 5.599}, {"text": "the python and miniconda and then uh", "start": 2222.839, "duration": 5.0}, {"text": "using the MPI externally and that", "start": 2225.359, "duration": 7.041}, {"text": "usually works okay to scale", "start": 2227.839, "duration": 4.561}, {"text": "out so it's a little complicated but", "start": 2232.64, "duration": 6.12}, {"text": "that's uh the best option uh to go go", "start": 2235.2, "duration": 5.32}, {"text": "forward with", "start": 2238.76, "duration": 4.319}, {"text": "that now the next thing I want to talk", "start": 2240.52, "duration": 5.72}, {"text": "about is our applications uh so again uh", "start": 2243.079, "duration": 4.121}, {"text": "we have", "start": 2246.24, "duration": 3.76}, {"text": "uh quite a few applications in librar", "start": 2247.2, "duration": 5.04}, {"text": "available via modules so if you do", "start": 2250.0, "duration": 4.88}, {"text": "module spider R Dash it's going to find", "start": 2252.24, "duration": 5.32}, {"text": "all the installed apps and libraries so", "start": 2254.88, "duration": 6.08}, {"text": "let me pop out of here", "start": 2257.56, "duration": 5.48}, {"text": "and", "start": 2260.96, "duration": 7.92}, {"text": "uh do module spider R Dash and I'm going", "start": 2263.04, "duration": 7.24}, {"text": "to pipe it through more because this is", "start": 2268.88, "duration": 4.08}, {"text": "a lot of packages so you can see it's", "start": 2270.28, "duration": 5.48}, {"text": "got lots of packages installed already", "start": 2272.96, "duration": 4.96}, {"text": "like our packages and it's got all the", "start": 2275.76, "duration": 5.12}, {"text": "combinations that you need to load", "start": 2277.92, "duration": 7.159}, {"text": "basically uh now this is kind of an", "start": 2280.88, "duration": 6.479}, {"text": "little bit of a artifact of the way we", "start": 2285.079, "duration": 5.121}, {"text": "install packages uh is using something", "start": 2287.359, "duration": 5.561}, {"text": "called spack and what that does is", "start": 2290.2, "duration": 4.56}, {"text": "create like all these different packages", "start": 2292.92, "duration": 3.439}, {"text": "and so sometimes it can get a little", "start": 2294.76, "duration": 3.599}, {"text": "tedious if you're trying to load like", "start": 2296.359, "duration": 4.841}, {"text": "you know 17 different packages to get", "start": 2298.359, "duration": 6.96}, {"text": "like the environment you need um but uh", "start": 2301.2, "duration": 7.159}, {"text": "if the modules based approach works then", "start": 2305.319, "duration": 4.921}, {"text": "uh that is if everything you need is in", "start": 2308.359, "duration": 3.881}, {"text": "already the packages that we have", "start": 2310.24, "duration": 5.359}, {"text": "installed you can use that but just like", "start": 2312.24, "duration": 5.92}, {"text": "with python if you need something else", "start": 2315.599, "duration": 4.881}, {"text": "it's best to go to the Mini cond 3 or", "start": 2318.16, "duration": 4.919}, {"text": "Singularity approach now since we", "start": 2320.48, "duration": 4.76}, {"text": "already saw the miniconda 3 approach for", "start": 2323.079, "duration": 3.641}, {"text": "the python side I'll show you the", "start": 2325.24, "duration": 4.839}, {"text": "singularity side here uh but before I do", "start": 2326.72, "duration": 6.92}, {"text": "that same caveat here don't mix the apps", "start": 2330.079, "duration": 5.481}, {"text": "and libraries from modules and from the", "start": 2333.64, "duration": 4.24}, {"text": "ones from min three or in a container", "start": 2335.56, "duration": 3.84}, {"text": "because again there's going to be", "start": 2337.88, "duration": 4.12}, {"text": "conflicts and", "start": 2339.4, "duration": 5.679}, {"text": "problems let me to a take a quick peek", "start": 2342.0, "duration": 4.88}, {"text": "to see if there's any questions no I", "start": 2345.079, "duration": 5.76}, {"text": "think they're good so", "start": 2346.88, "duration": 7.16}, {"text": "uh so here's an example of uh basically", "start": 2350.839, "duration": 8.041}, {"text": "using R via Singularity now uh what I'm", "start": 2354.04, "duration": 7.72}, {"text": "doing here is basically uh I on a", "start": 2358.88, "duration": 4.68}, {"text": "compute node that I got interactive", "start": 2361.76, "duration": 4.76}, {"text": "access on so again when you do a a build", "start": 2363.56, "duration": 6.92}, {"text": "of a singularity uh image from a Docker", "start": 2366.52, "duration": 6.48}, {"text": "image uh the best thing is to do it on a", "start": 2370.48, "duration": 4.08}, {"text": "compute node so where you have more", "start": 2373.0, "duration": 3.44}, {"text": "space and then I pointed the temporary", "start": 2374.56, "duration": 4.32}, {"text": "directory to like/ scratch dollar use", "start": 2376.44, "duration": 3.879}, {"text": "this should be familiar to you now the", "start": 2378.88, "duration": 2.84}, {"text": "local scratch", "start": 2380.319, "duration": 4.121}, {"text": "location loading the singularity module", "start": 2381.72, "duration": 4.8}, {"text": "and and building this container from a", "start": 2384.44, "duration": 4.159}, {"text": "Docker image so often what happens with", "start": 2386.52, "duration": 4.36}, {"text": "these R packages is there's already a", "start": 2388.599, "duration": 4.841}, {"text": "Docker image available so let me do", "start": 2390.88, "duration": 4.12}, {"text": "this", "start": 2393.44, "duration": 4.44}, {"text": "uh so I'm going to move this out of the", "start": 2395.0, "duration": 5.88}, {"text": "way", "start": 2397.88, "duration": 3.0}, {"text": "uh oh that's taking a", "start": 2404.28, "duration": 6.76}, {"text": "while okay so I I'm going to do a module", "start": 2407.319, "duration": 7.201}, {"text": "reset and then module load Singularity", "start": 2411.04, "duration": 5.72}, {"text": "Pro and", "start": 2414.52, "duration": 6.799}, {"text": "Export temp directory equals touch", "start": 2416.76, "duration": 5.96}, {"text": "dollar", "start": 2421.319, "duration": 4.04}, {"text": "user", "start": 2422.72, "duration": 4.24}, {"text": "oops", "start": 2425.359, "duration": 5.24}, {"text": "so that's done um and then I'm going to", "start": 2426.96, "duration": 5.44}, {"text": "do uh", "start": 2430.599, "duration": 5.681}, {"text": "Singularity I think I have this in my", "start": 2432.4, "duration": 6.88}, {"text": "history", "start": 2436.28, "duration": 3.0}, {"text": "yeah and by the way I just picked one", "start": 2440.04, "duration": 4.6}, {"text": "example where there was a Docker image", "start": 2442.88, "duration": 3.16}, {"text": "you I mean you might have a different", "start": 2444.64, "duration": 4.0}, {"text": "Docker image uh that you want to build", "start": 2446.04, "duration": 5.68}, {"text": "from I just wanted to show you uh so I", "start": 2448.64, "duration": 4.56}, {"text": "do a singularity", "start": 2451.72, "duration": 4.639}, {"text": "build so in this case since we are", "start": 2453.2, "duration": 4.68}, {"text": "building from a Docker image you don't", "start": 2456.359, "duration": 3.161}, {"text": "need to be root but if you're building", "start": 2457.88, "duration": 3.32}, {"text": "from a definition file you need root", "start": 2459.52, "duration": 3.12}, {"text": "access and I'll talk about that a little", "start": 2461.2, "duration": 3.44}, {"text": "bit later and again as I said Marty will", "start": 2462.64, "duration": 4.8}, {"text": "have a lot more about this uh you can", "start": 2464.64, "duration": 4.679}, {"text": "ignore that warning", "start": 2467.44, "duration": 5.639}, {"text": "and uh it's saying already exist because", "start": 2469.319, "duration": 5.841}, {"text": "I already did a build but it's basically", "start": 2473.079, "duration": 4.0}, {"text": "you reusing those but what you'll see is", "start": 2475.16, "duration": 4.28}, {"text": "that it will grab the stuff from the", "start": 2477.079, "duration": 6.04}, {"text": "docker image and uh build a singularity", "start": 2479.44, "duration": 7.04}, {"text": "container from it and this will have the", "start": 2483.119, "duration": 5.681}, {"text": "environment that's", "start": 2486.48, "duration": 5.56}, {"text": "needed so I will so it's creating a C", "start": 2488.8, "duration": 6.12}, {"text": "file which is your container image", "start": 2492.04, "duration": 5.88}, {"text": "file", "start": 2494.92, "duration": 3.0}, {"text": "uh by the way this for a particular", "start": 2501.319, "duration": 4.881}, {"text": "application this only needs to happen", "start": 2504.52, "duration": 3.36}, {"text": "once because once you have the CP file", "start": 2506.2, "duration": 4.52}, {"text": "you can reuse it and uh in subsequent", "start": 2507.88, "duration": 4.439}, {"text": "run so you don't have to keep doing this", "start": 2510.72, "duration": 3.0}, {"text": "over and over", "start": 2512.319, "duration": 2.921}, {"text": "again", "start": 2513.72, "duration": 4.52}, {"text": "um", "start": 2515.24, "duration": 3.0}, {"text": "oh this is taking a while Let Me Maybe", "start": 2521.079, "duration": 4.961}, {"text": "background", "start": 2523.599, "duration": 2.441}, {"text": "it cuz I still have the original one so", "start": 2528.0, "duration": 4.68}, {"text": "I'm going to just use that so", "start": 2530.88, "duration": 3.32}, {"text": "Singularity", "start": 2532.68, "duration": 8.28}, {"text": "shell uh D- bind SL scratch uh comma SL", "start": 2534.2, "duration": 9.72}, {"text": "expands uh sorry uh and", "start": 2540.96, "duration": 6.2}, {"text": "then oh it got done so let me just do", "start": 2543.92, "duration": 4.439}, {"text": "Singularity", "start": 2547.16, "duration": 6.84}, {"text": "shell uh Das Das bind uh SL expans Comm", "start": 2548.359, "duration": 9.24}, {"text": "SL scratch and this image that we just", "start": 2554.0, "duration": 6.04}, {"text": "created right so now I'm in this uh", "start": 2557.599, "duration": 5.24}, {"text": "environment that is uh uh The", "start": 2560.04, "duration": 7.559}, {"text": "Singularity image environment uh so if I", "start": 2562.839, "duration": 6.24}, {"text": "do", "start": 2567.599, "duration": 3.921}, {"text": "uh", "start": 2569.079, "duration": 6.081}, {"text": "uh oh dollar let me", "start": 2571.52, "duration": 6.64}, {"text": "see", "start": 2575.16, "duration": 3.0}, {"text": "yeah I can see my job and job uh scratch", "start": 2582.92, "duration": 6.399}, {"text": "directory here right so that's one thing", "start": 2585.96, "duration": 6.28}, {"text": "now uh this actually already has all the", "start": 2589.319, "duration": 4.961}, {"text": "paths and if I type R into it you can", "start": 2592.24, "duration": 3.72}, {"text": "see that there was an R installation in", "start": 2594.28, "duration": 5.039}, {"text": "this image with the version 343 and", "start": 2595.96, "duration": 5.84}, {"text": "basically it it'll have the package that", "start": 2599.319, "duration": 6.0}, {"text": "uh this particular application is uh uh", "start": 2601.8, "duration": 8.519}, {"text": "needing so let me quit uh this R", "start": 2605.319, "duration": 7.8}, {"text": "instance and uh exit out of the", "start": 2610.319, "duration": 6.321}, {"text": "singularity sh so basically you you just", "start": 2613.119, "duration": 6.761}, {"text": "saw like an easy way to just pull the", "start": 2616.64, "duration": 6.479}, {"text": "image in from Docker and just reuse it", "start": 2619.88, "duration": 5.439}, {"text": "and we've had a few our users who just", "start": 2623.119, "duration": 4.881}, {"text": "had to do this uh because the docker", "start": 2625.319, "duration": 4.52}, {"text": "image had everything that they needed", "start": 2628.0, "duration": 4.92}, {"text": "and uh all the paths were already set so", "start": 2629.839, "duration": 6.0}, {"text": "it was the easiest approach for them and", "start": 2632.92, "duration": 5.8}, {"text": "if if you uh want to see how to run that", "start": 2635.839, "duration": 6.881}, {"text": "using uh a bat script again it's uh", "start": 2638.72, "duration": 5.92}, {"text": "familiar stuff on the top asking for", "start": 2642.72, "duration": 4.359}, {"text": "shared partion just one task and this", "start": 2644.64, "duration": 4.84}, {"text": "particular code didn't really scale", "start": 2647.079, "duration": 4.161}, {"text": "Beyond a few threads so we are just", "start": 2649.48, "duration": 5.359}, {"text": "asking for eight threads here uh and", "start": 2651.24, "duration": 7.24}, {"text": "then uh a memory of 16 gbt and the", "start": 2654.839, "duration": 6.801}, {"text": "account number and four hours and so on", "start": 2658.48, "duration": 8.0}, {"text": "uh so but running it is basically uh now", "start": 2661.64, "duration": 6.919}, {"text": "instead of doing Singularity exact we're", "start": 2666.48, "duration": 4.96}, {"text": "doing Singularity run because there's in", "start": 2668.559, "duration": 4.961}, {"text": "the containers uh you can also have a", "start": 2671.44, "duration": 3.6}, {"text": "default behavior when you run the", "start": 2673.52, "duration": 4.839}, {"text": "container so we uh so this this", "start": 2675.04, "duration": 5.2}, {"text": "particular Docker image was already", "start": 2678.359, "duration": 5.401}, {"text": "setting those paths up and uh setting it", "start": 2680.24, "duration": 5.24}, {"text": "up to run the right", "start": 2683.76, "duration": 4.72}, {"text": "applications uh so you just do a run in", "start": 2685.48, "duration": 7.8}, {"text": "this case and there are some um uh this", "start": 2688.48, "duration": 6.8}, {"text": "particular application needed like the", "start": 2693.28, "duration": 4.24}, {"text": "directory part ODS to be specifically", "start": 2695.28, "duration": 5.079}, {"text": "located so that's why we are not just", "start": 2697.52, "duration": 6.319}, {"text": "bounding binding like SL crush and SL", "start": 2700.359, "duration": 5.041}, {"text": "expans we're binding things to a", "start": 2703.839, "duration": 5.161}, {"text": "particular location so the you can see", "start": 2705.4, "duration": 5.919}, {"text": "uh some of the input data is in this", "start": 2709.0, "duration": 4.16}, {"text": "location this is a human genome", "start": 2711.319, "duration": 4.681}, {"text": "reference data set so we just put that", "start": 2713.16, "duration": 6.56}, {"text": "there um so you can basically tailor it", "start": 2716.0, "duration": 7.0}, {"text": "uh to make uh the container see the", "start": 2719.72, "duration": 5.2}, {"text": "paths the way the application is", "start": 2723.0, "duration": 3.92}, {"text": "expecting them", "start": 2724.92, "duration": 5.12}, {"text": "and run it basically so that's another", "start": 2726.92, "duration": 6.52}, {"text": "way of running so what we have seen", "start": 2730.04, "duration": 6.96}, {"text": "is you can use our modules you can use", "start": 2733.44, "duration": 6.879}, {"text": "miniconda 3 uh for both Python and R and", "start": 2737.0, "duration": 6.0}, {"text": "other applications actually or you can", "start": 2740.319, "duration": 6.28}, {"text": "use uh Singularity so the next thing I", "start": 2743.0, "duration": 5.839}, {"text": "want to show you is uh how do you build", "start": 2746.599, "duration": 4.801}, {"text": "everything from Source right some", "start": 2748.839, "duration": 6.441}, {"text": "sometimes uh uh uh users have the source", "start": 2751.4, "duration": 5.88}, {"text": "code like Community codes like uh I'm", "start": 2755.28, "duration": 3.88}, {"text": "going to give you the example of quantum", "start": 2757.28, "duration": 3.839}, {"text": "espresso which is a quantum chemistry", "start": 2759.16, "duration": 6.08}, {"text": "code uh which um has a source code", "start": 2761.119, "duration": 5.881}, {"text": "available and you can actually build", "start": 2765.24, "duration": 4.879}, {"text": "from Source now usually these builds", "start": 2767.0, "duration": 7.04}, {"text": "require a particular uh package uh list", "start": 2770.119, "duration": 6.081}, {"text": "of dependencies", "start": 2774.04, "duration": 4.24}, {"text": "so when you build from Source you have", "start": 2776.2, "duration": 3.84}, {"text": "to point to that so let me give you an", "start": 2778.28, "duration": 4.96}, {"text": "example so this particular example is as", "start": 2780.04, "duration": 6.92}, {"text": "I said a Quantum espresso example uh", "start": 2783.24, "duration": 5.2}, {"text": "there is a build script if you want to", "start": 2786.96, "duration": 4.0}, {"text": "take a quick look at the entire script", "start": 2788.44, "duration": 4.159}, {"text": "uh we actually made it into a job script", "start": 2790.96, "duration": 3.399}, {"text": "so you submit it as a job and the", "start": 2792.599, "duration": 5.681}, {"text": "application gets built uh so usually for", "start": 2794.359, "duration": 5.76}, {"text": "anything you're building from Source the", "start": 2798.28, "duration": 3.24}, {"text": "first thing you have to do is set up", "start": 2800.119, "duration": 5.041}, {"text": "your modules environment uh uh to cover", "start": 2801.52, "duration": 5.799}, {"text": "the dependencies that the particular", "start": 2805.16, "duration": 6.6}, {"text": "code needs so this code needed uh an MPI", "start": 2807.319, "duration": 8.641}, {"text": "needed a a blast library and needed a", "start": 2811.76, "duration": 7.28}, {"text": "leac library and needed an fftw Library", "start": 2815.96, "duration": 4.8}, {"text": "so that's what we are loading so AMD", "start": 2819.04, "duration": 4.4}, {"text": "Bliss and AMD libf flame are the", "start": 2820.76, "duration": 6.04}, {"text": "equalent of blast and Le that are", "start": 2823.44, "duration": 6.639}, {"text": "optimized for the AMD architecture and", "start": 2826.8, "duration": 7.16}, {"text": "the fftw is equivalent of fftw3 but", "start": 2830.079, "duration": 6.76}, {"text": "optimized for AMD so that's what we're", "start": 2833.96, "duration": 5.68}, {"text": "loading in this case uh we are setting", "start": 2836.839, "duration": 5.441}, {"text": "some compiler Flags so this is usually", "start": 2839.64, "duration": 5.0}, {"text": "uh another thing that you need to set", "start": 2842.28, "duration": 5.48}, {"text": "when you're uh compiling from Source", "start": 2844.64, "duration": 6.719}, {"text": "some configures will figure out uh uh", "start": 2847.76, "duration": 6.88}, {"text": "what is the best flag to use but uh if", "start": 2851.359, "duration": 5.081}, {"text": "they have options to set the flags you", "start": 2854.64, "duration": 3.84}, {"text": "should set the flags because uh the", "start": 2856.44, "duration": 5.52}, {"text": "automatic pickups sometimes get it wrong", "start": 2858.48, "duration": 5.52}, {"text": "especially with the AMD processors and", "start": 2861.96, "duration": 5.0}, {"text": "Intel compilers it may not detect the", "start": 2864.0, "duration": 6.48}, {"text": "right uh right CPU architecture and Mi", "start": 2866.96, "duration": 6.56}, {"text": "it uh miss the performance basically so", "start": 2870.48, "duration": 4.879}, {"text": "in this case we are setting basically C", "start": 2873.52, "duration": 2.72}, {"text": "flag", "start": 2875.359, "duration": 3.921}, {"text": "uh C++ flags and a bunch of for flags", "start": 2876.24, "duration": 5.16}, {"text": "and you'll see we are setting aggressive", "start": 2879.28, "duration": 5.039}, {"text": "O3 optimization and we are saying the", "start": 2881.4, "duration": 5.199}, {"text": "architecture is an avx2 architecture so", "start": 2884.319, "duration": 6.201}, {"text": "this is what you need to give to let the", "start": 2886.599, "duration": 6.361}, {"text": "configure know that hey this is going to", "start": 2890.52, "duration": 5.92}, {"text": "be an avx2", "start": 2892.96, "duration": 6.119}, {"text": "architect the other thing configures", "start": 2896.44, "duration": 5.2}, {"text": "usually look for our uh locations of", "start": 2899.079, "duration": 6.321}, {"text": "these libraries so remember I was saying", "start": 2901.64, "duration": 6.439}, {"text": "how we set like the home locations for", "start": 2905.4, "duration": 5.4}, {"text": "each library that you load using the", "start": 2908.079, "duration": 5.561}, {"text": "module so now it becomes useful because", "start": 2910.8, "duration": 4.84}, {"text": "you don't have to give that huge ugly", "start": 2913.64, "duration": 5.719}, {"text": "path in every uh setting you can just", "start": 2915.64, "duration": 6.8}, {"text": "use the relative path from the home the", "start": 2919.359, "duration": 4.681}, {"text": "location of the library so that's what", "start": 2922.44, "duration": 6.04}, {"text": "we are doing here um just so you know", "start": 2924.04, "duration": 8.559}, {"text": "why all of these are being set let me uh", "start": 2928.48, "duration": 8.879}, {"text": "let me see if I can get my other window", "start": 2932.599, "duration": 8.441}, {"text": "so I'm basically in a source code uh", "start": 2937.359, "duration": 7.321}, {"text": "location for uh", "start": 2941.04, "duration": 7.759}, {"text": "uh Quantum espresso and if I do qu do do", "start": 2944.68, "duration": 6.639}, {"text": "configure slel it'll tell you all the", "start": 2948.799, "duration": 5.241}, {"text": "things you can set actually so you can", "start": 2951.319, "duration": 6.121}, {"text": "see that there are options by the way", "start": 2954.04, "duration": 5.36}, {"text": "this is specific to this application if", "start": 2957.44, "duration": 3.32}, {"text": "you have a different application you", "start": 2959.4, "duration": 2.959}, {"text": "might have different flags and things", "start": 2960.76, "duration": 3.44}, {"text": "but you can see it's letting you set the", "start": 2962.359, "duration": 4.801}, {"text": "code allocation it's let you set uh some", "start": 2964.2, "duration": 5.84}, {"text": "include paths uh where the hdf 5 is", "start": 2967.16, "duration": 4.959}, {"text": "located there are also some flags that", "start": 2970.04, "duration": 7.279}, {"text": "Set uh uh uh locations too like LD Flags", "start": 2972.119, "duration": 7.281}, {"text": "will set where the library location is", "start": 2977.319, "duration": 5.121}, {"text": "so if if there is no flag for your", "start": 2979.4, "duration": 5.56}, {"text": "particular Library here you can set it", "start": 2982.44, "duration": 5.399}, {"text": "in the LD flag location and similarly", "start": 2984.96, "duration": 5.399}, {"text": "CPP Flags will have the include PS and", "start": 2987.839, "duration": 5.121}, {"text": "you can set it there uh and you can see", "start": 2990.359, "duration": 5.24}, {"text": "that this particular code also has nvcc", "start": 2992.96, "duration": 5.839}, {"text": "Flags which are basically Cuda uh", "start": 2995.599, "duration": 7.361}, {"text": "related Flags uh on the uh GPU related", "start": 2998.799, "duration": 8.0}, {"text": "flags on basically for a GPU compile", "start": 3002.96, "duration": 6.72}, {"text": "so uh so if if your application has a", "start": 3006.799, "duration": 5.0}, {"text": "configure you can always do this do a", "start": 3009.68, "duration": 4.879}, {"text": "configure d-el and see what you can set", "start": 3011.799, "duration": 5.961}, {"text": "and you can set the right paths uh for", "start": 3014.559, "duration": 4.921}, {"text": "where the locations are and the reason", "start": 3017.76, "duration": 5.68}, {"text": "we are setting pods uh is because uh our", "start": 3019.48, "duration": 6.079}, {"text": "installations of these libraries are not", "start": 3023.44, "duration": 5.28}, {"text": "in standard locations there in uh in our", "start": 3025.559, "duration": 5.961}, {"text": "uh spack", "start": 3028.72, "duration": 7.44}, {"text": "locations so uh now if all of this looks", "start": 3031.52, "duration": 7.12}, {"text": "a little too complicated don't worry", "start": 3036.16, "duration": 5.8}, {"text": "send in a ticket and we can help you uh", "start": 3038.64, "duration": 5.88}, {"text": "setting setting up uh the things but I", "start": 3041.96, "duration": 4.32}, {"text": "just wanted to point out that you know", "start": 3044.52, "duration": 5.52}, {"text": "the locations are not uh standard and uh", "start": 3046.28, "duration": 7.48}, {"text": "so after that I'm running the configure", "start": 3050.04, "duration": 5.88}, {"text": "uh and setting all these things and when", "start": 3053.76, "duration": 4.599}, {"text": "you do this the configure will have a", "start": 3055.92, "duration": 4.04}, {"text": "lot of output showing you that oh yeah", "start": 3058.359, "duration": 4.0}, {"text": "it's picking up uh you know Blast from", "start": 3059.96, "duration": 4.879}, {"text": "here lipac from here fftw and it's going", "start": 3062.359, "duration": 5.2}, {"text": "to confirm all those things and then you", "start": 3064.839, "duration": 5.641}, {"text": "do a make uh to basically compile the", "start": 3067.559, "duration": 5.961}, {"text": "code so that's uh the codes that have", "start": 3070.48, "duration": 4.879}, {"text": "configured some codes will just have a", "start": 3073.52, "duration": 4.079}, {"text": "make file like a simple make file which", "start": 3075.359, "duration": 5.881}, {"text": "sets pods and this I think this is uh", "start": 3077.599, "duration": 5.48}, {"text": "this is one such", "start": 3081.24, "duration": 5.119}, {"text": "example uh and in this case", "start": 3083.079, "duration": 6.24}, {"text": "uh I set the lib flags and include Flags", "start": 3086.359, "duration": 6.44}, {"text": "uh uh based on the parts on the system", "start": 3089.319, "duration": 5.961}, {"text": "again if this was a", "start": 3092.799, "duration": 6.601}, {"text": "standard uh one to Centos installation", "start": 3095.28, "duration": 7.6}, {"text": "you wouldn't need this Dash L this uh", "start": 3099.4, "duration": 6.52}, {"text": "huge path of CM Shar apps and all those", "start": 3102.88, "duration": 4.719}, {"text": "things because it would be in a standard", "start": 3105.92, "duration": 3.639}, {"text": "location and pick it up since we don't", "start": 3107.599, "duration": 3.561}, {"text": "have it in a standard location we need", "start": 3109.559, "duration": 4.361}, {"text": "to point the makefile to that so that's", "start": 3111.16, "duration": 4.679}, {"text": "where the lip flag coming in and the", "start": 3113.92, "duration": 3.56}, {"text": "include CL is coming and then the rest", "start": 3115.839, "duration": 4.041}, {"text": "of the make file doesn't", "start": 3117.48, "duration": 5.599}, {"text": "change one other thing to keep in", "start": 3119.88, "duration": 5.56}, {"text": "mind uh and I think I've said this", "start": 3123.079, "duration": 5.52}, {"text": "before uh regarding GPU nodes in", "start": 3125.44, "duration": 6.359}, {"text": "regarding uh using modules but it also", "start": 3128.599, "duration": 5.401}, {"text": "goes for compiles like if you're trying", "start": 3131.799, "duration": 4.641}, {"text": "to you compile a code that needs to run", "start": 3134.0, "duration": 4.599}, {"text": "on a GPU node don't compile that on the", "start": 3136.44, "duration": 4.28}, {"text": "login nodee it's going to fail it might", "start": 3138.599, "duration": 5.881}, {"text": "compile fine but then when you go to the", "start": 3140.72, "duration": 5.879}, {"text": "GPU node and to run it it's going to", "start": 3144.48, "duration": 4.119}, {"text": "give you a segmentation fault because it", "start": 3146.599, "duration": 4.361}, {"text": "has uh specific", "start": 3148.599, "duration": 7.801}, {"text": "requirements um and then uh uh basically", "start": 3150.96, "duration": 8.0}, {"text": "it's a processor specific requirement so", "start": 3156.4, "duration": 6.64}, {"text": "there'll be some uh uh something that is", "start": 3158.96, "duration": 6.44}, {"text": "AMD specific that now doesn't work on", "start": 3163.04, "duration": 3.279}, {"text": "the", "start": 3165.4, "duration": 3.8}, {"text": "GPU uh it's the other way too like if", "start": 3166.319, "duration": 5.04}, {"text": "you go compile something on a GPU node", "start": 3169.2, "duration": 4.399}, {"text": "like say you compile lamps which is a", "start": 3171.359, "duration": 4.601}, {"text": "molecular Dynamics code on on the GPU", "start": 3173.599, "duration": 6.96}, {"text": "node uh and use the AVX F2 Flags because", "start": 3175.96, "duration": 6.44}, {"text": "that's an Intel processor that supports", "start": 3180.559, "duration": 4.161}, {"text": "it and then you try to run that on the", "start": 3182.4, "duration": 5.36}, {"text": "CPU node which doesn't have AVX fight 12", "start": 3184.72, "duration": 6.0}, {"text": "it's going to segment SE fault so", "start": 3187.76, "duration": 6.319}, {"text": "remember if you're compiling for and you", "start": 3190.72, "duration": 5.04}, {"text": "think that you're going to use both the", "start": 3194.079, "duration": 3.48}, {"text": "CPU and GPU nodes you need to do two", "start": 3195.76, "duration": 4.12}, {"text": "different", "start": 3197.559, "duration": 2.321}, {"text": "compiles uh the one thing other thing I", "start": 3199.96, "duration": 5.8}, {"text": "want to mention is that often like", "start": 3203.079, "duration": 5.961}, {"text": "scientific codes will require a lot of", "start": 3205.76, "duration": 7.2}, {"text": "linear linear algebra routines and uh", "start": 3209.04, "duration": 7.44}, {"text": "like blast leack and scale laack uh you", "start": 3212.96, "duration": 5.639}, {"text": "may see that oh there's no leack on the", "start": 3216.48, "duration": 5.0}, {"text": "system for my particular compiler that", "start": 3218.599, "duration": 5.921}, {"text": "is true but you know leack can always be", "start": 3221.48, "duration": 5.839}, {"text": "uh all the routines in leack can be", "start": 3224.52, "duration": 5.48}, {"text": "addressed from other options uh for", "start": 3227.319, "duration": 4.641}, {"text": "example open blast is a good thing that", "start": 3230.0, "duration": 5.839}, {"text": "covers both blast and leack uh mkl will", "start": 3231.96, "duration": 6.72}, {"text": "uh Intel mkl libraries will cover scal", "start": 3235.839, "duration": 5.361}, {"text": "pack the aocl libraries will cover scal", "start": 3238.68, "duration": 4.6}, {"text": "pack so there is lot of ways of getting", "start": 3241.2, "duration": 4.84}, {"text": "those uh what this means is when you're", "start": 3243.28, "duration": 5.2}, {"text": "compiling uh like if you have a default", "start": 3246.04, "duration": 6.44}, {"text": "make file from uh from the source code", "start": 3248.48, "duration": 7.44}, {"text": "uh like GitHub repos that may assume", "start": 3252.48, "duration": 6.04}, {"text": "that oh there's leac and user Li 64 you", "start": 3255.92, "duration": 4.6}, {"text": "will have to go change the make file to", "start": 3258.52, "duration": 4.319}, {"text": "point to these libraries instead and it", "start": 3260.52, "duration": 4.24}, {"text": "will still work so those are some", "start": 3262.839, "duration": 4.361}, {"text": "standard changes you have to", "start": 3264.76, "duration": 5.48}, {"text": "make uh as I mentioned libraries will be", "start": 3267.2, "duration": 6.32}, {"text": "in non-standard location so make sure uh", "start": 3270.24, "duration": 6.16}, {"text": "if you're using configure or cmake or", "start": 3273.52, "duration": 5.68}, {"text": "make file all of them needs to use", "start": 3276.4, "duration": 6.8}, {"text": "options that point point to these other", "start": 3279.2, "duration": 6.56}, {"text": "locations and you can find the locations", "start": 3283.2, "duration": 6.68}, {"text": "using module show as I showed before one", "start": 3285.76, "duration": 6.839}, {"text": "uh other caveat is that Intel", "start": 3289.88, "duration": 5.919}, {"text": "compilers they work fine on AMD", "start": 3292.599, "duration": 5.641}, {"text": "in fact for some applications the Intel", "start": 3295.799, "duration": 6.481}, {"text": "compilers work faster than the MV uh uh", "start": 3298.24, "duration": 7.24}, {"text": "compiler or even the go compilers uh so", "start": 3302.28, "duration": 6.24}, {"text": "you should look at them if you're if", "start": 3305.48, "duration": 5.72}, {"text": "you're seeing looking for performance or", "start": 3308.52, "duration": 4.24}, {"text": "sometimes some applications have", "start": 3311.2, "duration": 3.76}, {"text": "specific compiler version requirements", "start": 3312.76, "duration": 5.079}, {"text": "so that's another reason you might do it", "start": 3314.96, "duration": 6.159}, {"text": "uh if you do use an Intel compiler don't", "start": 3317.839, "duration": 5.881}, {"text": "use the - xhost flag this is usually", "start": 3321.119, "duration": 8.081}, {"text": "used by Intel uh uh based uh builds uh", "start": 3323.72, "duration": 7.92}, {"text": "because the Intel compilers can detect", "start": 3329.2, "duration": 6.399}, {"text": "the host uh but unfortunately that works", "start": 3331.64, "duration": 6.959}, {"text": "well on the Intel based CPUs but on the", "start": 3335.599, "duration": 5.641}, {"text": "AMD based CPUs some versions of Intel", "start": 3338.599, "duration": 5.281}, {"text": "compilers will revert back to some", "start": 3341.24, "duration": 4.52}, {"text": "really old architecture because they", "start": 3343.88, "duration": 5.08}, {"text": "don't detect the uh right architecture", "start": 3345.76, "duration": 5.279}, {"text": "or they don't they can't figure out what", "start": 3348.96, "duration": 4.24}, {"text": "the architecture is because it's an non-", "start": 3351.039, "duration": 4.28}, {"text": "Intel CPU and then you'll get really", "start": 3353.2, "duration": 4.0}, {"text": "poor performance so the thing to do is", "start": 3355.319, "duration": 4.881}, {"text": "to replace anything that says X host to", "start": 3357.2, "duration": 7.32}, {"text": "Mr Arc equals core D ax2 which tell", "start": 3360.2, "duration": 6.56}, {"text": "basically tells the compiler it's an", "start": 3364.52, "duration": 6.519}, {"text": "avx2 uh uh route and that should be good", "start": 3366.76, "duration": 6.52}, {"text": "for", "start": 3371.039, "duration": 2.241}, {"text": "performance let me see I have I have", "start": 3373.319, "duration": 4.321}, {"text": "about 3 minutes which is good I should", "start": 3375.68, "duration": 5.32}, {"text": "be able to do the last piece there so", "start": 3377.64, "duration": 6.12}, {"text": "let me see if there are any questions no", "start": 3381.0, "duration": 5.52}, {"text": "I think we are good so let me go back", "start": 3383.76, "duration": 5.4}, {"text": "here to the user built containers so", "start": 3386.52, "duration": 5.4}, {"text": "that's the last part of it so", "start": 3389.16, "duration": 5.48}, {"text": "um you might find that sometimes you", "start": 3391.92, "duration": 4.439}, {"text": "will need to build your own singular tic", "start": 3394.64, "duration": 3.959}, {"text": "container and this is useful if there", "start": 3396.359, "duration": 4.121}, {"text": "are lots of dependencies that you can't", "start": 3398.599, "duration": 3.601}, {"text": "install in the regular expanse", "start": 3400.48, "duration": 3.2}, {"text": "environment and we don't have a", "start": 3402.2, "duration": 3.52}, {"text": "container already", "start": 3403.68, "duration": 4.359}, {"text": "available the things to keep in mind and", "start": 3405.72, "duration": 4.72}, {"text": "I'm sure Marty will go into detail and", "start": 3408.039, "duration": 6.121}, {"text": "mention this more in his talk uh two", "start": 3410.44, "duration": 6.04}, {"text": "things so for for MPI based installs", "start": 3414.16, "duration": 4.6}, {"text": "make sure that the MPI in the container", "start": 3416.48, "duration": 5.92}, {"text": "matches the MPI on our system one of the", "start": 3418.76, "duration": 5.64}, {"text": "MPI on our system because this is", "start": 3422.4, "duration": 3.719}, {"text": "because even though the container sets", "start": 3424.4, "duration": 4.88}, {"text": "up the environment fine the launch of", "start": 3426.119, "duration": 7.761}, {"text": "MPI jobs is uh done using the external", "start": 3429.28, "duration": 8.44}, {"text": "MPR uh there are options to make these", "start": 3433.88, "duration": 8.04}, {"text": "compatible uh but uh it's a little", "start": 3437.72, "duration": 6.079}, {"text": "tricky so the best thing to do is to", "start": 3441.92, "duration": 4.639}, {"text": "match when you install an MPI in the", "start": 3443.799, "duration": 5.0}, {"text": "container make sure it is the same as", "start": 3446.559, "duration": 5.121}, {"text": "the same version as the one that's on", "start": 3448.799, "duration": 4.8}, {"text": "external", "start": 3451.68, "duration": 5.28}, {"text": "uh or if you're using the infinite band", "start": 3453.599, "duration": 5.72}, {"text": "drivers natively again you have to make", "start": 3456.96, "duration": 4.359}, {"text": "sure that the drivers installed in the", "start": 3459.319, "duration": 4.601}, {"text": "container match uh the drivers that are", "start": 3461.319, "duration": 4.0}, {"text": "on the", "start": 3463.92, "duration": 4.36}, {"text": "system uh and you know this might be", "start": 3465.319, "duration": 5.04}, {"text": "very complicated for somebody who's new", "start": 3468.28, "duration": 4.079}, {"text": "so the best thing to do is to go to", "start": 3470.359, "duration": 4.601}, {"text": "Marty's definition file start from there", "start": 3472.359, "duration": 5.401}, {"text": "because he has Baseline containers that", "start": 3474.96, "duration": 5.76}, {"text": "install MPI and install these drivers so", "start": 3477.76, "duration": 5.2}, {"text": "you can just start from that and then", "start": 3480.72, "duration": 5.56}, {"text": "layer what what else you need on top of", "start": 3482.96, "duration": 6.32}, {"text": "it the other thing is for GPU installs", "start": 3486.28, "duration": 4.72}, {"text": "you don't need to install the driver", "start": 3489.28, "duration": 4.0}, {"text": "because the Das Dash NV flag will pull", "start": 3491.0, "duration": 4.24}, {"text": "pull in all the info needed but you", "start": 3493.28, "duration": 3.519}, {"text": "still do need to make sure whatever", "start": 3495.24, "duration": 3.04}, {"text": "packages you have installed are", "start": 3496.799, "duration": 3.481}, {"text": "compatible with the driver on our system", "start": 3498.28, "duration": 5.039}, {"text": "so this goes back to the same caveat", "start": 3500.28, "duration": 5.839}, {"text": "that I had with the", "start": 3503.319, "duration": 5.641}, {"text": "uh miniconda", "start": 3506.119, "duration": 2.841}, {"text": "install now the builds if you're doing", "start": 3509.119, "duration": 5.24}, {"text": "from definition files need root access", "start": 3511.599, "duration": 5.881}, {"text": "and so you can't do this on expanse so", "start": 3514.359, "duration": 4.96}, {"text": "but you can always build it elsewhere so", "start": 3517.48, "duration": 4.52}, {"text": "you can use your own laptop or desktop", "start": 3519.319, "duration": 5.04}, {"text": "which is what I do a lot of times uh", "start": 3522.0, "duration": 5.68}, {"text": "just uh spin up a VM in my desktop and", "start": 3524.359, "duration": 6.161}, {"text": "uh or my laptop and basically build", "start": 3527.68, "duration": 6.24}, {"text": "build as rout and as long as you have", "start": 3530.52, "duration": 8.68}, {"text": "the write drivers uh and um", "start": 3533.92, "duration": 7.08}, {"text": "compatibility you can build this", "start": 3539.2, "duration": 4.72}, {"text": "anywhere and it'll work fine on xans uh", "start": 3541.0, "duration": 5.52}, {"text": "you do need to make sure that the kernel", "start": 3543.92, "duration": 5.96}, {"text": "uh that you're using is compatible with", "start": 3546.52, "duration": 6.0}, {"text": "uh with whatever kernel is on the system", "start": 3549.88, "duration": 6.0}, {"text": "so don't go pick the latest and greatest", "start": 3552.52, "duration": 5.4}, {"text": "OS because that kernel might not be", "start": 3555.88, "duration": 4.88}, {"text": "supported on uh on our system but other", "start": 3557.92, "duration": 4.439}, {"text": "than that you can pretty much build", "start": 3560.76, "duration": 5.0}, {"text": "everywhere else and um the other nice", "start": 3562.359, "duration": 5.281}, {"text": "place to do this is a cloud resource so", "start": 3565.76, "duration": 3.839}, {"text": "either in Amazon or if you're looking on", "start": 3567.64, "duration": 5.479}, {"text": "exceed jet stream 2 will have options to", "start": 3569.599, "duration": 5.841}, {"text": "basically spin up a VM with the right", "start": 3573.119, "duration": 3.92}, {"text": "environment and you will be root in that", "start": 3575.44, "duration": 4.08}, {"text": "VM and you can go do what you need to do", "start": 3577.039, "duration": 5.401}, {"text": "so that's another way of doing it uh", "start": 3579.52, "duration": 5.12}, {"text": "again there'll be details in Marty's", "start": 3582.44, "duration": 6.24}, {"text": "talk and so last thing I want to show is", "start": 3584.64, "duration": 6.959}, {"text": "what's in a typical uh uh definition", "start": 3588.68, "duration": 5.439}, {"text": "file like so this is one one of Marty's", "start": 3591.599, "duration": 4.841}, {"text": "examples so you can see uh there are", "start": 3594.119, "duration": 5.521}, {"text": "some pods being set but mostly it's", "start": 3596.44, "duration": 5.599}, {"text": "doing a lot of yum installs uh in this", "start": 3599.64, "duration": 5.32}, {"text": "case because it's a Centos based image", "start": 3602.039, "duration": 5.28}, {"text": "uh and if it was a B2 based image you", "start": 3604.96, "duration": 5.359}, {"text": "could basically do a upate install and", "start": 3607.319, "duration": 6.561}, {"text": "then he's downloading uh the source and", "start": 3610.319, "duration": 6.0}, {"text": "building based on this", "start": 3613.88, "duration": 5.4}, {"text": "environment uh but you can see there are", "start": 3616.319, "duration": 8.8}, {"text": "uh some uh uh infin mind uh p is being", "start": 3619.28, "duration": 8.36}, {"text": "installed", "start": 3625.119, "duration": 2.521}, {"text": "here so uh but I'm I'm not going to go", "start": 3628.559, "duration": 4.48}, {"text": "into detail because Marty will talk", "start": 3631.52, "duration": 4.92}, {"text": "about it a lot so going back to the", "start": 3633.039, "duration": 5.241}, {"text": "summary of all the things we have looked", "start": 3636.44, "duration": 2.8}, {"text": "at", "start": 3638.28, "duration": 3.16}, {"text": "so there are lots of different options", "start": 3639.24, "duration": 4.2}, {"text": "to get applications working on", "start": 3641.44, "duration": 4.679}, {"text": "expanse uh first thing to do is to check", "start": 3643.44, "duration": 5.359}, {"text": "if it's already there most of the common", "start": 3646.119, "duration": 5.44}, {"text": "Community codes are installed uh maybe", "start": 3648.799, "duration": 4.401}, {"text": "not the versions you need but most of", "start": 3651.559, "duration": 4.401}, {"text": "the time uh we have it installed and if", "start": 3653.2, "duration": 4.839}, {"text": "it's a code like you know gaan that is", "start": 3655.96, "duration": 3.68}, {"text": "used by a lot of", "start": 3658.039, "duration": 4.921}, {"text": "users uh we try to keep them updated as", "start": 3659.64, "duration": 6.919}, {"text": "well um next thing to do is go look in", "start": 3662.96, "duration": 7.28}, {"text": "the examples directory make sure uh uh", "start": 3666.559, "duration": 5.641}, {"text": "uh there isn't an example already", "start": 3670.24, "duration": 3.92}, {"text": "because that will simplify your task of", "start": 3672.2, "duration": 3.839}, {"text": "creating a submit script you can just", "start": 3674.16, "duration": 3.8}, {"text": "copy over the example change it for your", "start": 3676.039, "duration": 6.841}, {"text": "inputs and you're off running very", "start": 3677.96, "duration": 7.119}, {"text": "quickly uh", "start": 3682.88, "duration": 4.52}, {"text": "then as I mentioned for both R and", "start": 3685.079, "duration": 4.0}, {"text": "python there's lots of ways to do it", "start": 3687.4, "duration": 4.159}, {"text": "look at our modules if that doesn't work", "start": 3689.079, "duration": 4.24}, {"text": "you look at our look at doing a", "start": 3691.559, "duration": 3.8}, {"text": "miniconda install in your directory or", "start": 3693.319, "duration": 3.401}, {"text": "using", "start": 3695.359, "duration": 3.96}, {"text": "containers uh don't mix installation", "start": 3696.72, "duration": 4.24}, {"text": "between all of these that's s that thing", "start": 3699.319, "duration": 4.52}, {"text": "to keep in mind uh we saw how we can use", "start": 3700.96, "duration": 4.8}, {"text": "a Docker image via Singularity so that", "start": 3703.839, "duration": 4.76}, {"text": "was a pretty quick way of uh getting", "start": 3705.76, "duration": 4.64}, {"text": "everything in one", "start": 3708.599, "duration": 4.76}, {"text": "container uh or you can build from your", "start": 3710.4, "duration": 5.719}, {"text": "own definition file so lots of different", "start": 3713.359, "duration": 5.081}, {"text": "ways of getting your software on the", "start": 3716.119, "duration": 4.801}, {"text": "system one thing I didn't mention here", "start": 3718.44, "duration": 3.76}, {"text": "is commercial", "start": 3720.92, "duration": 3.879}, {"text": "codes uh of course the commercial codes", "start": 3722.2, "duration": 6.359}, {"text": "are uh cost money so what we have", "start": 3724.799, "duration": 6.24}, {"text": "installed are uh are the ones that are", "start": 3728.559, "duration": 6.161}, {"text": "quite popular so uh uh we've kind of", "start": 3731.039, "duration": 7.161}, {"text": "made the commitment on the cost side but", "start": 3734.72, "duration": 5.44}, {"text": "if you if there's a package that you not", "start": 3738.2, "duration": 3.96}, {"text": "need that is a commercial package and", "start": 3740.16, "duration": 4.72}, {"text": "doesn't work uh it doesn't", "start": 3742.16, "duration": 4.56}, {"text": "uh exist already on our system you can", "start": 3744.88, "duration": 4.28}, {"text": "check with us usually uh depending on", "start": 3746.72, "duration": 6.599}, {"text": "the budget uh we can make decisions uh", "start": 3749.16, "duration": 7.84}, {"text": "if it's too expensive uh uh the other", "start": 3753.319, "duration": 5.76}, {"text": "option we suggest is that if you have a", "start": 3757.0, "duration": 4.599}, {"text": "license so sometimes uh users have a", "start": 3759.079, "duration": 5.161}, {"text": "license on their home institution and if", "start": 3761.599, "duration": 4.52}, {"text": "it's a network license and you can point", "start": 3764.24, "duration": 4.799}, {"text": "to it from expense that is fine too if", "start": 3766.119, "duration": 4.92}, {"text": "if it's allowed like we had a users for", "start": 3769.039, "duration": 4.681}, {"text": "example who wanted to run open form uh", "start": 3771.039, "duration": 5.161}, {"text": "not open form sorry uh fluent which is a", "start": 3773.72, "duration": 5.24}, {"text": "commercial cfd code and they had an", "start": 3776.2, "duration": 6.04}, {"text": "institution license uh and they got an", "start": 3778.96, "duration": 5.44}, {"text": "uh they checked with their vendor and", "start": 3782.24, "duration": 3.76}, {"text": "they said oh it's okay if you run it on", "start": 3784.4, "duration": 5.24}, {"text": "a different system and we opened uh", "start": 3786.0, "duration": 6.24}, {"text": "basically they opened up uh the net uh", "start": 3789.64, "duration": 4.52}, {"text": "network connection to expans all the", "start": 3792.24, "duration": 4.879}, {"text": "expans node can talk out to the Internet", "start": 3794.16, "duration": 5.919}, {"text": "so you can get to an external host if", "start": 3797.119, "duration": 4.641}, {"text": "you want to do a license check and then", "start": 3800.079, "duration": 3.321}, {"text": "you can run that way so that's in a", "start": 3801.76, "duration": 4.48}, {"text": "different way of going it", "start": 3803.4, "duration": 4.8}, {"text": "with that I think I'll stop I think I'm", "start": 3806.24, "duration": 6.48}, {"text": "a few minutes over already so", "start": 3808.2, "duration": 4.52}]